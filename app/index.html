<!DOCTYPE html>
<html>
<head>
    <title>rasti.js demo</title>
    <meta charset=utf-8>
    <meta name=viewport content="width=device-width, initial-scale=1 maximum-scale=1">
    <link rel=manifest href=manifest.json>

    <link rel=stylesheet href=app.css>

    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker
                .register('./service-worker.js')
                .then(function() { console.log('Service Worker Registered') })
        }
    </script>

</head>

<body rasti=app persist>
<!-- 
the [rasti=X] declaration does 3 things:
    1. creates a rasti instance named X
    2. binds it to the container (in this case the body, but could be any div as well)
    3. creates an X global var to access the instance (window.X = instance)
-->

    <nav class=mid>
        <div name=config
            show="panel=config"
            class="icon menu"></div>
        <div nav=main text=main></div>
        <div nav=about text=about></div>
        <div nav=login class="round right"></div>
    </nav>


    <div modal panel=config header
        class="inline pad pad-s-desktop">           
        <div block=buttons
            field=lang data label
            onchange=app.setLang(this.value)></div>

        <div block=radios
            field=theme data label
            on-change=applyTheme></div>

        <div block=buttons
            field
            data=themeMaps
            label=variante
            on-change=applyTheme></div>
    </div>


    <div page=about header
        class="row center">
        <div panel class="pad-desktop">
            <h1>rasti.js demo app</h1>
            <div section>
                <ul data=features label=features class="lighten"></ul>
            </div>
        </div>
    </div>


    <div page=login header=welcome
        class="column scroll">

        <img src=rasti-192x192.png />

        <div panel class="inline pad">
            <input field=user navparam
                label=username
                pattern="^[a-z\d\.]{5,}$"
                required />

            <input type=password
                field=pass
                label
                pattern="^[\d]{4,}$"
                required />

            <button btn class="fullw"
                text=login
                on-click=login
                validate></button>
        </div>

    </div>


    <div page=main header
        class="row tabs-tablet hh-phone">

        <div panel=filters header
            ajax=getPeople
            state
            class="col-4 scrolly hh-phone pad pad-s-desktop">

            <div section class="inline pad">
                <input field=name label>
                <select field=area label data></select>
                <div block=multi
                    field=skills label data
                    deps=area></div>
            </div>

            <div section=reqdata header
                class="collapse">
                <textarea name=reqdata field disabled
                    style=height:100px></textarea>
            </div>

            <button btn class="fullw" 
                submit=getPeople
                render=cards
                text=search></button>
        </div>


        <div panel=results header
            template=cards
            paging=4 columns
            fx=stack
            class="col-8 hh-phone">

            <!-- here be cards! -->

        </div>

    </div>

    <script src=../dist/rasti+zepto.js></script>

    <script src=extra/people.js></script>
    <script src=extra/config.js></script>
    <script src=app.js></script>

</body>
</html>
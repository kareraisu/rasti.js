!function(a,t){"function"==typeof define&&define.amd?define(function(){return t(a)}):t(a)}(this,function(ee){var t=function(){function x(e){return null==e?e+"":j[E.call(e)]||"object"}function te(e){return"function"==x(e)}function F(e){return null!=e&&e==e.window}function k(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function M(e){return"object"==x(e)}function R(e){return M(e)&&!F(e)&&Object.getPrototypeOf(e)==Object.prototype}function Z(a){var t=!!a&&"length"in a&&a.length,e=ae.type(a);return"function"!=e&&!F(a)&&("array"==e||0===t||"number"==typeof t&&0<t&&t-1 in a)}function z(e){return s.call(e,function(e){return null!=e})}function q(e){return 0<e.length?ae.fn.concat.apply([],e):e}function H(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function I(e){return e in c?c[e]:c[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function V(a,t){return"number"!=typeof t||l[H(a)]?t:t+"px"}function t(o){var t,i;return a[o]||(t=le.createElement(o),le.body.appendChild(t),i=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==i&&(i="block"),a[o]=i),a[o]}function _(e){return"children"in e?se.call(e.children):ae.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function U(a,t){var e,o=a?a.length:0;for(e=0;o>e;e++)this[e]=a[e];this.length=o,this.selector=t||""}function B(a,t,n){for(e in t)n&&(R(t[e])||A(t[e]))?(R(t[e])&&!R(a[e])&&(a[e]={}),A(t[e])&&!A(a[e])&&(a[e]=[]),B(a[e],t[e],n)):t[e]!==K&&(a[e]=t[e])}function X(a,t){return null==t?ae(a):ae(a).filter(t)}function W(a,t,e,n){return te(t)?t.call(a,e,n):t}function J(a,t,e){null==e?a.removeAttribute(t):a.setAttribute(t,e)}function Y(e,t){var a=e.className||"",n=a&&a.baseVal!==K;return t===K?n?a.baseVal:a:void(n?a.baseVal=t:e.className=t)}function G(a){try{return a?"true"==a||"false"!=a&&("null"==a?null:+a+""==a?+a:/^[\[\{]/.test(a)?ae.parseJSON(a):a):a}catch(t){return a}}function Q(a,t){t(a);for(var e=0,o=a.childNodes.length;o>e;e++)Q(a.childNodes[e],t)}var K,e,ae,ne,oe,ie,re=[],o=re.concat,s=re.filter,se=re.slice,le=ee.document,a={},c={},l={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},u=/^\s*<(\w+|!)[^>]*>/,p=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,d=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,m=/^(?:body|html)$/i,h=/([A-Z])/g,g=["val","css","html","text","data","width","height","offset"],f=le.createElement("table"),b=le.createElement("tr"),v={tr:le.createElement("tbody"),tbody:f,thead:f,tfoot:f,td:b,th:b,"*":le.createElement("div")},y=/complete|loaded|interactive/,w=/^[\w-]*$/,j={},E=j.toString,C={},T=le.createElement("div"),N={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},A=Array.isArray||function(e){return e instanceof Array};return C.matches=function(a,t){if(!t||!a||1!==a.nodeType)return!1;var e=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(e)return e.call(a,t);var n,s=a.parentNode,l=!s;return l&&(s=T).appendChild(a),n=~C.qsa(s,t).indexOf(a),l&&T.removeChild(a),n},oe=function(e){return e.replace(/-+(.)?/g,function(a,t){return t?t.toUpperCase():""})},ie=function(a){return s.call(a,function(t,e){return a.indexOf(t)==e})},C.fragment=function(e,r,l){var i,c,m;return p.test(e)&&(i=ae(le.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(d,"<$1></$2>")),r===K&&(r=u.test(e)&&RegExp.$1),r in v||(r="*"),m=v[r],m.innerHTML=""+e,i=ae.each(se.call(m.childNodes),function(){m.removeChild(this)})),R(l)&&(c=ae(i),ae.each(l,function(a,t){-1<g.indexOf(a)?c[a](t):c.attr(a,t)})),i},C.Z=function(a,t){return new U(a,t)},C.isZ=function(e){return e instanceof C.Z},C.init=function(e,a){var n;if(!e)return C.Z();if("string"!=typeof e){if(te(e))return ae(le).ready(e);if(C.isZ(e))return e;if(A(e))n=z(e);else if(M(e))n=[e],e=null;else if(u.test(e))n=C.fragment(e.trim(),RegExp.$1,a),e=null;else{if(a!==K)return ae(a).find(e);n=C.qsa(le,e)}}else if(e=e.trim(),"<"==e[0]&&u.test(e))n=C.fragment(e,RegExp.$1,a),e=null;else{if(a!==K)return ae(a).find(e);n=C.qsa(le,e)}return C.Z(n,e)},ae=function(a,t){return C.init(a,t)},ae.extend=function(a){var o,i=se.call(arguments,1);return"boolean"==typeof a&&(o=a,a=i.shift()),i.forEach(function(e){B(a,e,o)}),a},C.qsa=function(a,t){var e,l="#"==t[0],r=!l&&"."==t[0],i=l||r?t.slice(1):t,o=w.test(i);return a.getElementById&&o&&l?(e=a.getElementById(i))?[e]:[]:1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType?[]:se.call(o&&!l&&a.getElementsByClassName?r?a.getElementsByClassName(i):a.getElementsByTagName(t):a.querySelectorAll(t))},ae.contains=le.documentElement.contains?function(a,t){return a!==t&&a.contains(t)}:function(a,t){for(;t&&(t=t.parentNode);)if(t===a)return!0;return!1},ae.type=x,ae.isFunction=te,ae.isWindow=F,ae.isArray=A,ae.isPlainObject=R,ae.isEmptyObject=function(a){for(var t in a)return!1;return!0},ae.isNumeric=function(a){var t=+a,e=typeof a;return null!=a&&"boolean"!=e&&("string"!=e||a.length)&&!isNaN(t)&&isFinite(t)||!1},ae.inArray=function(a,t,e){return re.indexOf.call(t,a,e)},ae.camelCase=oe,ae.trim=function(e){return null==e?"":String.prototype.trim.call(e)},ae.uuid=0,ae.support={},ae.expr={},ae.noop=function(){},ae.map=function(a,t){var e,s,l,d=[];if(Z(a))for(s=0;s<a.length;s++)e=t(a[s],s),null!=e&&d.push(e);else for(l in a)e=t(a[l],l),null!=e&&d.push(e);return q(d)},ae.each=function(a,t){var e,o;if(Z(a)){for(e=0;e<a.length;e++)if(!1===t.call(a[e],e,a[e]))return a;}else for(o in a)if(!1===t.call(a[o],o,a[o]))return a;return a},ae.grep=function(a,t){return s.call(a,t)},ee.JSON&&(ae.parseJSON=JSON.parse),ae.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],function(a,t){j["[object "+t+"]"]=t.toLowerCase()}),ae.fn={constructor:C.Z,length:0,forEach:re.forEach,reduce:re.reduce,push:re.push,sort:re.sort,splice:re.splice,indexOf:re.indexOf,concat:function(){var a,i,r=[];for(a=0;a<arguments.length;a++)i=arguments[a],r[a]=C.isZ(i)?i.toArray():i;return o.apply(C.isZ(this)?this.toArray():this,r)},map:function(a){return ae(ae.map(this,function(t,e){return a.call(t,e,t)}))},slice:function(){return ae(se.apply(this,arguments))},ready:function(e){return y.test(le.readyState)&&le.body?e(ae):le.addEventListener("DOMContentLoaded",function(){e(ae)},!1),this},get:function(e){return e===K?se.call(this):this[0<=e?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return re.every.call(this,function(t,e){return!1!==a.call(t,e,t)}),this},filter:function(a){return te(a)?this.not(this.not(a)):ae(s.call(this,function(t){return C.matches(t,a)}))},add:function(a,t){return ae(ie(this.concat(ae(a,t))))},is:function(e){return 0<this.length&&C.matches(this[0],e)},not:function(a){var o=[];if(te(a)&&a.call!==K)this.each(function(t){a.call(this,t)||o.push(this)});else{var e="string"==typeof a?this.filter(a):Z(a)&&te(a.item)?se.call(a):ae(a);this.forEach(function(a){0>e.indexOf(a)&&o.push(a)})}return ae(o)},has:function(e){return this.filter(function(){return M(e)?ae.contains(this,e):ae(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!M(e)?e:ae(e)},last:function(){var e=this[this.length-1];return e&&!M(e)?e:ae(e)},find:function(a){var t,o=this;return t=a?"object"==typeof a?ae(a).filter(function(){var a=this;return re.some.call(o,function(t){return ae.contains(t,a)})}):1==this.length?ae(C.qsa(this[0],a)):this.map(function(){return C.qsa(this,a)}):ae()},closest:function(a,t){var e=[],n="object"==typeof a&&ae(a);return this.each(function(i,r){for(;r&&(n?!(0<=n.indexOf(r)):!C.matches(r,a));)r=r!==t&&!k(r)&&r.parentNode;r&&0>e.indexOf(r)&&e.push(r)}),ae(e)},parents:function(a){for(var o=[],e=this;0<e.length;)e=ae.map(e,function(e){return(e=e.parentNode)&&!k(e)&&0>o.indexOf(e)?(o.push(e),e):void 0});return X(o,a)},parent:function(e){return X(ie(this.pluck("parentNode")),e)},children:function(e){return X(this.map(function(){return _(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||se.call(this.childNodes)})},siblings:function(e){return X(this.map(function(a,n){return s.call(_(n.parentNode),function(e){return e!==n})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return ae.map(this,function(t){return t[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=t(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(a){var t=te(a);if(this[0]&&!t)var e=ae(a).get(0),n=e.parentNode||1<this.length;return this.each(function(i){ae(this).wrapAll(t?a.call(this,i):n?e.cloneNode(!0):e)})},wrapAll:function(a){if(this[0]){ae(this[0]).before(a=ae(a));for(var n;(n=a.children()).length;)a=n.first();ae(a).append(this)}return this},wrapInner:function(a){var t=te(a);return this.each(function(e){var n=ae(this),i=n.contents(),o=t?a.call(this,e):a;i.length?i.wrapAll(o):n.append(o)})},unwrap:function(){return this.parent().each(function(){ae(this).replaceWith(ae(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=ae(this);(e===K?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return ae(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return ae(this.pluck("nextElementSibling")).filter(e||"*")},html:function(a){return 0 in arguments?this.each(function(t){var e=this.innerHTML;ae(this).empty().append(W(this,a,t,e))}):0 in this?this[0].innerHTML:null},text:function(a){return 0 in arguments?this.each(function(t){var e=W(this,a,t,this.textContent);this.textContent=null==e?"":""+e}):0 in this?this.pluck("textContent").join(""):null},attr:function(a,t){var n;return"string"!=typeof a||1 in arguments?this.each(function(n){if(1===this.nodeType)if(M(a))for(e in a)J(this,e,a[e]);else J(this,a,W(this,t,n,this.getAttribute(a)))}):0 in this&&1==this[0].nodeType&&null!=(n=this[0].getAttribute(a))?n:K},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){J(this,e)},this)})},prop:function(a,o){return a=N[a]||a,1 in arguments?this.each(function(e){this[a]=W(this,o,e,this[a])}):this[0]&&this[0][a]},removeProp:function(e){return e=N[e]||e,this.each(function(){delete this[e]})},data:function(e,t){var a="data-"+e.replace(h,"-$1").toLowerCase(),n=1 in arguments?this.attr(a,t):this.attr(a);return null===n?K:G(n)},val:function(a){return 0 in arguments?(null==a&&(a=""),this.each(function(t){this.value=W(this,a,t,this.value)})):this[0]&&(this[0].multiple?ae(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(a){var e=Math.round;if(a)return this.each(function(e){var t=ae(this),n=W(this,a,e,t.offset()),i=t.offsetParent().offset(),o={top:n.top-i.top,left:n.left-i.left};"static"==t.css("position")&&(o.position="relative"),t.css(o)});if(!this.length)return null;if(le.documentElement!==this[0]&&!ae.contains(le.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+ee.pageXOffset,top:t.top+ee.pageYOffset,width:e(t.width),height:e(t.height)}},css:function(n,t){if(2>arguments.length){var r=this[0];if("string"==typeof n)return r?r.style[oe(n)]||getComputedStyle(r,"").getPropertyValue(n):void 0;if(A(n)){if(!r)return;var i={},o=getComputedStyle(r,"");return ae.each(n,function(a,t){i[t]=r.style[oe(t)]||o.getPropertyValue(t)}),i}}var s="";if("string"==x(n))t||0===t?s=H(n)+":"+V(n,t):this.each(function(){this.style.removeProperty(H(n))});else for(e in n)n[e]||0===n[e]?s+=H(e)+":"+V(e,n[e])+";":this.each(function(){this.style.removeProperty(H(e))});return this.each(function(){this.style.cssText+=";"+s})},index:function(e){return e?this.indexOf(ae(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&re.some.call(this,function(e){return this.test(Y(e))},I(e))},addClass:function(a){return a?this.each(function(t){if("className"in this){ne=[];var e=Y(this),n=W(this,a,t,e);n.split(/\s+/g).forEach(function(e){ae(this).hasClass(e)||ne.push(e)},this),ne.length&&Y(this,e+(e?" ":"")+ne.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===K)return Y(this,"");ne=Y(this),W(this,e,t,ne).split(/\s+/g).forEach(function(e){ne=ne.replace(I(e)," ")}),Y(this,ne.trim())}})},toggleClass:function(e,a){return e?this.each(function(t){var n=ae(this),o=W(this,e,t,Y(this));o.split(/\s+/g).forEach(function(e){(a===K?!n.hasClass(e):a)?n.addClass(e):n.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===K?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===K?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var a=this[0],t=this.offsetParent(),e=this.offset(),n=m.test(t[0].nodeName)?{top:0,left:0}:t.offset();return e.top-=parseFloat(ae(a).css("margin-top"))||0,e.left-=parseFloat(ae(a).css("margin-left"))||0,n.top+=parseFloat(ae(t[0]).css("border-top-width"))||0,n.left+=parseFloat(ae(t[0]).css("border-left-width"))||0,{top:e.top-n.top,left:e.left-n.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||le.body;e&&!m.test(e.nodeName)&&"static"==ae(e).css("position");)e=e.offsetParent;return e})}},ae.fn.detach=ae.fn.remove,["width","height"].forEach(function(a){var e=a.replace(/./,function(e){return e[0].toUpperCase()});ae.fn[a]=function(t){var n,i=this[0];return t===K?F(i)?i["inner"+e]:k(i)?i.documentElement["scroll"+e]:(n=this.offset())&&n[a]:this.each(function(n){i=ae(this),i.css(a,W(this,t,n,i[a]()))})}}),["after","prepend","before","append"].forEach(function(e,t){var i=t%2;ae.fn[e]=function(){var e,o,r=ae.map(arguments,function(a){var n=[];return e=x(a),"array"==e?(a.forEach(function(e){return e.nodeType===K?ae.zepto.isZ(e)?n=n.concat(e.get()):void(n=n.concat(C.fragment(e))):n.push(e)}),n):"object"==e||null==a?a:C.fragment(a)}),s=1<this.length;return 1>r.length?this:this.each(function(a,l){o=i?l:l.parentNode,l=0==t?l.nextSibling:1==t?l.firstChild:2==t?l:null;var d=ae.contains(le.documentElement,o);r.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!o)return ae(t).remove();o.insertBefore(t,l),d&&Q(t,function(t){if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src)){var e=t.ownerDocument?t.ownerDocument.defaultView:ee;e.eval.call(e,t.innerHTML)}})})})},ae.fn[i?e+"To":"insert"+(t?"Before":"After")]=function(a){return ae(a)[e](this),this}}),C.Z.prototype=U.prototype=ae.fn,C.uniq=ie,C.deserializeValue=G,ae.zepto=C,ae}();return ee.Zepto=t,void 0===ee.$&&(ee.$=t),function(k){function C(e){return e._zid||(e._zid=r++)}function h(a,o,s,n){if(o=N(o),o.ns)var r=d(o.ns);return(S[C(a)]||[]).filter(function(e){return e&&(!o.e||e.e==o.e)&&(!o.ns||r.test(e.ns))&&(!s||C(e.fn)===C(s))&&(!n||e.sel==n)})}function N(a){var t=(""+a).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function d(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function m(a,t){return a.del&&!o&&a.e in i||!!t}function g(e){return z[e]||o&&i[e]||e}function e(r,e,t,a,o,s,l){var n=C(r),d=S[n]||(S[n]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return k(document).ready(t);var i=N(e);i.fn=t,i.sel=o,i.e in z&&(t=function(e){var t=e.relatedTarget;return t&&(t===this||k.contains(this,t))?void 0:i.fn.apply(this,arguments)}),i.del=s;var p=s||t;i.proxy=function(t){if(t=v(t),!t.isImmediatePropagationStopped()){t.data=a;var o=p.apply(r,t._args==x?[t]:[t].concat(t._args));return!1===o&&(t.preventDefault(),t.stopPropagation()),o}},i.i=d.length,d.push(i),"addEventListener"in r&&r.addEventListener(g(i.e),i.proxy,m(i,l))})}function p(a,t,s,n,r){var i=C(a);(t||"").split(/\s/).forEach(function(t){h(a,t,s,n).forEach(function(t){delete S[i][t.i],"removeEventListener"in a&&a.removeEventListener(g(t.e),t.proxy,m(t,r))})})}function v(a,t){return(t||!a.isDefaultPrevented)&&(t||(t=a),k.each(c,function(n,e){var o=t[n];a[n]=function(){return this[e]=s,o&&o.apply(t,arguments)},a[e]=b}),a.timeStamp||(a.timeStamp=Date.now()),(t.defaultPrevented===x?"returnValue"in t?!1===t.returnValue:t.getPreventDefault&&t.getPreventDefault():t.defaultPrevented)&&(a.isDefaultPrevented=s)),a}function y(a){var t,o={originalEvent:a};for(t in a)l.test(t)||a[t]===x||(o[t]=a[t]);return v(o,a)}var x,r=1,T=Array.prototype.slice,A=k.isFunction,P=function(e){return"string"==typeof e},S={},a={},o="onfocusin"in ee,i={focus:"focusin",blur:"focusout"},z={mouseenter:"mouseover",mouseleave:"mouseout"};a.click=a.mousedown=a.mouseup=a.mousemove="MouseEvents",k.event={add:e,remove:p},k.proxy=function(e,t){var n=2 in arguments&&T.call(arguments,2);if(A(e)){var o=function(){return e.apply(t,n?n.concat(T.call(arguments)):arguments)};return o._zid=C(e),o}if(P(t))return n?(n.unshift(e[t],e),k.proxy.apply(null,n)):k.proxy(e[t],e);throw new TypeError("expected function")},k.fn.bind=function(a,t,e){return this.on(a,t,e)},k.fn.unbind=function(a,t){return this.off(a,t)},k.fn.one=function(a,t,e,n){return this.on(a,t,e,n,1)};var s=function(){return!0},b=function(){return!1},l=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,c={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};k.fn.delegate=function(a,t,e){return this.on(t,a,e)},k.fn.undelegate=function(a,t,e){return this.off(t,a,e)},k.fn.live=function(e,t){return k(document.body).delegate(this.selector,e,t),this},k.fn.die=function(e,t){return k(document.body).undelegate(this.selector,e,t),this},k.fn.on=function(i,d,s,m,g){var f,t,o=this;return i&&!P(i)?(k.each(i,function(a,t){o.on(a,d,s,t,g)}),o):(P(d)||A(m)||!1===m||(m=s,s=d,d=x),(m===x||!1===s)&&(m=s,s=x),!1===m&&(m=b),o.each(function(a,n){g&&(f=function(e){return p(n,e.type,m),m.apply(this,arguments)}),d&&(t=function(e){var t,a=k(e.target).closest(d,n).get(0);return a&&a!==n?(t=k.extend(y(e),{currentTarget:a,liveFired:n}),(f||m).apply(a,[t].concat(T.call(arguments,1)))):void 0}),e(n,i,m,s,d,t||f)}))},k.fn.off=function(e,o,t){var r=this;return e&&!P(e)?(k.each(e,function(a,t){r.off(a,o,t)}),r):(P(o)||A(t)||!1===t||(t=o,o=x),!1===t&&(t=b),r.each(function(){p(this,e,t,o)}))},k.fn.trigger=function(e,a){return e=P(e)||k.isPlainObject(e)?k.Event(e):v(e),e._args=a,this.each(function(){e.type in i&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):k(this).triggerHandler(e,a)})},k.fn.triggerHandler=function(e,t){var n,a;return this.each(function(i,o){n=y(P(e)?k.Event(e):e),n._args=t,n.target=o,k.each(h(o,e.type||e),function(o,t){return a=t.proxy(n),!n.isImmediatePropagationStopped()&&void 0})}),a},["focusin","focusout","focus","blur","load","resize","scroll","unload","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","change","select","keydown","keypress","keyup","error"].forEach(function(a){k.fn[a]=function(t){return 0 in arguments?this.bind(a,t):this.trigger(a)}}),k.Event=function(o,s){P(o)||(s=o,o=s.type);var l=document.createEvent(a[o]||"Events"),n=!0;if(s)for(var d in s)"bubbles"==d?n=!!s[d]:l[d]=s[d];return l.initEvent(o,n,!0),v(l)}}(t),function(k){function A(e,t,a){var n=k.Event(t);return k(e).trigger(n,a),!n.isDefaultPrevented()}function p(a,t,e,n){return a.global?A(t||z,e,n):void 0}function e(e){e.global&&0==k.active++&&p(e,null,"ajaxStart")}function d(e){e.global&&! --k.active&&p(e,null,"ajaxStop")}function t(a,t){var e=t.context;return!1!==t.beforeSend.call(e,a,t)&&!1!==p(t,e,"ajaxBeforeSend",[a,t])&&void p(t,e,"ajaxSend",[a,t])}function m(a,t,e,n){var o=e.context;e.success.call(o,a,"success",t),n&&n.resolveWith(o,[a,"success",t]),p(e,o,"ajaxSuccess",[t,e,a]),g("success",t,e)}function v(a,t,e,n,r){var i=n.context;n.error.call(i,e,t,a),r&&r.rejectWith(i,[e,t,a]),p(n,i,"ajaxError",[e,n,a||t]),g(t,e,n)}function g(a,t,e){var n=e.context;e.complete.call(n,t,a),p(e,n,"ajaxComplete",[t,e]),d(e)}function b(a,t,e){if(e.dataFilter==y)return a;var n=e.context;return e.dataFilter.call(n,a,t)}function y(){}function x(e){return e&&(e=e.split(";",2)[0]),e&&(e==f?"html":e==u?"json":s.test(e)?"script":a.test(e)&&"xml")||"text"}function w(a,t){return""==t?a:(a+"&"+t).replace(/[&?]{1,2}/,"?")}function j(e){e.processData&&e.data&&"string"!=k.type(e.data)&&(e.data=k.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()&&"jsonp"!=e.dataType||(e.url=w(e.url,e.data),e.data=void 0)}function E(e,t,a,o){return k.isFunction(t)&&(o=a,a=t,t=void 0),k.isFunction(a)||(o=a,a=void 0),{url:e,data:t,success:a,dataType:o}}function C(e,t,l,r){var i,d=k.isArray(t),s=k.isPlainObject(t);k.each(t,function(t,a){i=k.type(a),r&&(t=l?r:r+"["+(s||"object"==i||"array"==i?t:"")+"]"),!r&&d?e.add(a.name,a.value):"array"!=i&&(l||"object"!=i)?e.add(t,a):C(e,a,l,t)})}var T,P,S=+new Date,z=ee.document,r=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,a=/^(?:text|application)\/xml/i,u="application/json",f="text/html",L=/^\s*$/,l=z.createElement("a");l.href=ee.location.href,k.active=0,k.ajaxJSONP=function(e,i){if(!("type"in e))return k.ajax(e);var o,d,n=e.jsonpCallback,s=(k.isFunction(n)?n():n)||"Zepto"+S++,a=z.createElement("script"),u=ee[s],r=function(e){k(a).triggerHandler("error",e||"abort")},l={abort:r};return i&&i.promise(l),k(a).on("load error",function(t,n){clearTimeout(d),k(a).off().remove(),"error"!=t.type&&o?m(o[0],l,e,i):v(null,n||"error",l,e,i),ee[s]=u,o&&k.isFunction(u)&&u(o[0]),u=o=void 0}),!1===t(l,e)?(r("abort"),l):(ee[s]=function(){o=arguments},a.src=e.url.replace(/\?(.+)=\?/,"?$1="+s),z.head.appendChild(a),0<e.timeout&&(d=setTimeout(function(){r("timeout")},e.timeout)),l)},k.ajaxSettings={type:"GET",beforeSend:y,success:y,error:y,complete:y,context:null,global:!0,xhr:function(){return new ee.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:y},k.ajax=function(o){var n,i,r=k.extend({},o||{}),s=k.Deferred&&k.Deferred();for(T in k.ajaxSettings)void 0===r[T]&&(r[T]=k.ajaxSettings[T]);e(r),r.crossDomain||(n=z.createElement("a"),n.href=r.url,n.href=n.href,r.crossDomain=l.protocol+"//"+l.host!=n.protocol+"//"+n.host),r.url||(r.url=ee.location.toString()),-1<(i=r.url.indexOf("#"))&&(r.url=r.url.slice(0,i)),j(r);var a=r.dataType,h=/\?.+=\?/.test(r.url);if(h&&(a="jsonp"),!1!==r.cache&&(o&&!0===o.cache||"script"!=a&&"jsonp"!=a)||(r.url=w(r.url,"_="+Date.now())),"jsonp"==a)return h||(r.url=w(r.url,r.jsonp?r.jsonp+"=?":!1===r.jsonp?"":"callback=?")),k.ajaxJSONP(r,s);var p,E=r.accepts[a],S={},g=function(a,t){S[a.toLowerCase()]=[a,t]},D=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:ee.location.protocol,C=r.xhr(),N=C.setRequestHeader;if(s&&s.promise(C),r.crossDomain||g("X-Requested-With","XMLHttpRequest"),g("Accept",E||"*/*"),(E=r.mimeType||E)&&(-1<E.indexOf(",")&&(E=E.split(",",2)[0]),C.overrideMimeType&&C.overrideMimeType(E)),(r.contentType||!1!==r.contentType&&r.data&&"GET"!=r.type.toUpperCase())&&g("Content-Type",r.contentType||"application/x-www-form-urlencoded"),r.headers)for(P in r.headers)g(P,r.headers[P]);if(C.setRequestHeader=g,C.onreadystatechange=function(){if(4==C.readyState){C.onreadystatechange=y,clearTimeout(p);var e,o=!1;if(200<=C.status&&300>C.status||304==C.status||0==C.status&&"file:"==D){if(a=a||x(r.mimeType||C.getResponseHeader("content-type")),"arraybuffer"==C.responseType||"blob"==C.responseType)e=C.response;else{e=C.responseText;try{e=b(e,a,r),"script"==a?(1,eval)(e):"xml"==a?e=C.responseXML:"json"==a&&(e=L.test(e)?null:k.parseJSON(e))}catch(e){o=e}if(o)return v(o,"parsererror",C,r,s)}m(e,C,r,s)}else v(C.statusText||null,C.status?"error":"abort",C,r,s)}},!1===t(C,r))return C.abort(),v(null,"abort",C,r,s),C;var O=!("async"in r)||r.async;if(C.open(r.type,r.url,O,r.username,r.password),r.xhrFields)for(P in r.xhrFields)C[P]=r.xhrFields[P];for(P in S)N.apply(C,S[P]);return 0<r.timeout&&(p=setTimeout(function(){C.onreadystatechange=y,C.abort(),v(null,"timeout",C,r,s)},r.timeout)),C.send(r.data?r.data:null),C},k.get=function(){return k.ajax(E.apply(null,arguments))},k.post=function(){var e=E.apply(null,arguments);return e.type="POST",k.ajax(e)},k.getJSON=function(){var e=E.apply(null,arguments);return e.dataType="json",k.ajax(e)},k.fn.load=function(e,t,n){if(!this.length)return this;var s,l=this,i=e.split(/\s/),o=E(e,t,n),d=o.success;return 1<i.length&&(o.url=i[0],s=i[1]),o.success=function(e){l.html(s?k("<div>").html(e.replace(r,"")).find(s):e),d&&d.apply(l,arguments)},k.ajax(o),this};var c=encodeURIComponent;k.param=function(e,t){var a=[];return a.add=function(e,t){k.isFunction(t)&&(t=t()),null==t&&(t=""),this.push(c(e)+"="+c(t))},C(a,e,t),a.join("&").replace(/%20/g,"+")}}(t),function(a){a.fn.serializeArray=function(){var s,t,o=[],l=function(e){return e.forEach?e.forEach(l):void o.push({name:s,value:e})};return this[0]&&a.each(this[0].elements,function(e,n){t=n.type,s=n.name,s&&"fieldset"!=n.nodeName.toLowerCase()&&!n.disabled&&"submit"!=t&&"reset"!=t&&"button"!=t&&"file"!=t&&("radio"!=t&&"checkbox"!=t||n.checked)&&l(a(n).val())}),o},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(t){a.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),a.join("&")},a.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var e=a.Event("submit");this.eq(0).trigger(e),e.isDefaultPrevented()||this.get(0).submit()}return this}}(t),function(){try{getComputedStyle(void 0)}catch(t){var a=getComputedStyle;ee.getComputedStyle=function(n,t){try{return a(n,t)}catch(e){return null}}}}(),t}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,t.rasti=e()}}(function(){var define,module,exports;return function(){function s(l,e,n){function t(d,i){if(!e[d]){if(!l[d]){var r="function"==typeof require&&require;if(!i&&r)return r(d,!0);if(o)return o(d,!0);var c=new Error("Cannot find module '"+d+"'");throw c.code="MODULE_NOT_FOUND",c}var a=e[d]={exports:{}};l[d][0].call(a.exports,function(e){var a=l[d][1][e];return t(a||e)},a,a.exports,s,l,e,n)}return e[d].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)t(n[a]);return t}return s}()({1:[function(e,t){t.exports={list:e("./list"),table:e("./table"),input:e("./input"),checks:e("./checks"),radios:e("./radios"),buttons:e("./buttons"),multi:e("./multi"),select:e("./select")}},{"./buttons":2,"./checks":3,"./input":4,"./list":5,"./multi":6,"./radios":7,"./select":8,"./table":9}],2:[function(e,t){const{prepTemplate:a}=e("../utils");t.exports={render(e,t){const n=a(e=>`<div value="${e.value}">${e.label}</div>`);t.html(n(e))},init(t){t[0].value="",t.on("click","div",function(a){t.val($(a.target).attr("value")).trigger("change")}),t.on("change",function(){t.children().removeClass("active"),t.find("[value=\""+t.val()+"\"]").addClass("active")})},style:`[block=buttons] > div {display: inline-block;margin: 5px !important;padding: 5px 10px;border-radius: 4px;background-clip: padding-box;text-transform: uppercase;cursor: pointer;}`}},{"../utils":16}],3:[function(e,t){const{random:a,prepTemplate:n}=e("../utils");t.exports={render(e,t){const o=a(),i=n(e=>`<input type="checkbox" name="${o}[]" value="${e.value}"/><label>${e.label}</label>`);t.html(i(e))},init(e){const t=e[0].value=[];e.on("change","input",function(a){const e=$(a.currentTarget),n=e.attr("value");e.prop("checked")?t.push(n):t.remove(n)}),e.on("change",function(){let a,n;e.find("input").each(function(e,o){a=$(o),n=t.includes(a.attr("value")),a.prop("checked",n)})})}}},{"../utils":16}],4:[function(e,t){const{is:a,random:n}=e("../utils");t.exports={render(e,t){if(a.string(e)){const a=t.attr("separator")||",";e=e.split(a)}if(!a.array(e))throw"invalid data, must be string or array";const n=e.map(e=>`<option value="${e.trim()}"></option>`).join("");t.next("datalist").html(n)},init(e){const t=n();e.attr("list",t),e.after(`<datalist id=${t}>`),e.click(()=>e.val(""))}}},{"../utils":16}],5:[function(e,t){const{is:a}=e("../utils");t.exports={render(e,t){if(a.string(e)){const a=t.attr("separator")||",";e=e.split(a)}if(!a.array(e))throw"invalid data, must be string or array";const n=e.map(e=>`<li>${e.trim()}</li>`).join("");t.html(n)}}},{"../utils":16}],6:[function(e,t){const{is:a,onMobile:n,prepTemplate:o}=e("../utils");t.exports={render(e,t){var n=t[0],i=t.attr("prop")||t.attr("name");if(!i)return rasti.error("Could not resolve name of element:",n);if(a.string(e)&&(e=e.split(", ")),!a.array(e))throw"invalid data, must be string or array";t[0].total=e.length;const r=t.hasAttr("filter")?`<input field type="text" placeholder="${t.attr("filter")}"/>`:"",s=o(e=>`<option value="${e.value}" alias="${e.alias}">${e.label}</option>`);t.closest("[page]").find("[options="+i+"]").html(r+s(e))},init(t){function a(){var e=r.children().length,a=o.value.length-e,i=e>=(o.max||o.total);return i?(0<a&&(o.value=o.value.slice(0,e),rasti.warn("Dropped %s overflowed values in el:",a,o)),t.addClass("full"),n()&&s.parent().removeClass("backdrop"),s.hide()):t.removeClass("full"),i}var o=t[0],i=t.attr("prop")||t.attr("name");if(!i)return rasti.error("Could not resolve name of element:",o);if(o.value=[],o.max=parseInt(t.attr("max")),o.initialized)return t.find("[selected]").empty(),void t.removeClass("full");t.addClass("field"),t.html("<div selected/><div add/>"),t.closest("[page]").children(".page-options").append("<div block=multi section options="+i+">");var r=t.find("[selected]"),s=t.closest("[page]").find("[options="+i+"]");t.on("click",function(t){t.stopPropagation(),s.siblings("[options]").hide(),n()&&s.parent().addClass("backdrop"),s.css("left",this.getBoundingClientRect().right).show(),s.find("input").focus()}),t.closest("[page]").on("click","*:not(option)",function(t){$(t.target).attr("name")===i||$(t.target).parent().attr("name")===i||(n()&&s.parent().removeClass("backdrop"),s.hide())});var l=function(n){n.stopPropagation(),s.find("input").focus();var e=$(n.target),o=e.attr("value"),i=t[0].value;e.parent().attr("options")?(r.append(e),i.push(o)):(s.append(e),i.remove(o)),a(),t.trigger("change",{ui:!0})};t.on("click","option",l),s.on("click","option",l),n()||s.on("click",function(){s.find("input").focus()}),s.on("input","input",function(){this.value?s.find("option").hide().filter("[alias*="+this.value+"]").show():s.find("option").show()}),t.on("change",function(t,e){if(!(e&&e.ui)){r.children().each(function(e,t){s.append(t)});for(var n of o.value)if(r.append(s.find("[value=\""+n+"\"]")),a())break}}),o.initialized=!0},style:`[block=multi]:not([options]) {display: flex;min-height: 35px;padding-right: 0;text-shadow: 0 0 0 #000;cursor: pointer;}[block=multi] [add] {display: flex;align-items: center;width: 30px;border-left: 1px solid rgba(0,0,0,0.2);}[block=multi] [add]:before {content: '〉';padding-left: 10px;}[block=multi].open [add] {box-shadow: inset 0 0 2px #000;}[block=multi].full {padding-right: 5px;}[block=multi].full [add] {display: none;}[block=multi] option {padding: 6px 0;}[block=multi] option:before {content: '✕';display: inline-block;box-sizing: border-box;height: 20px;width: 20px;margin-right: 5px;border-radius: 50%;text-align: center;line-height: 1.5;}[block=multi] [selected] {flex-basis: 100%;max-height: 100px;overflow-y: auto;}[block=multi] [selected] > option:hover:before {color: #d90000;background-color: rgba(255, 0, 0, 0.5);}[block=multi][options] {display: none;position: absolute;top: 0;width: 250px;height: 100%;padding: 5px 10px;border: 1px solid;z-index: 10;overflow-y: auto;}[block=multi][options] > option:before {transform: rotate(45deg);}[block=multi][options] > option:hover:before {color: #008000;background-color: rgba(0, 128, 0, 0.5);}[block=multi][options] input {border: 1px solid #000;margin: 10px 0;}`}},{"../utils":16}],7:[function(e,t){const{random:a,prepTemplate:n}=e("../utils");t.exports={render(e,t){const o=a(),i=n(e=>`<div><input type="radio" name="${o}" value="${e.value}"/><label>${e.label}</label></div>`);t.html(i(e))},init(t){t[0].value="",t.on("click","label",function(t){$(t.currentTarget).prev().click()}),t.on("change","input",function(a){t.val($(a.currentTarget).attr("value"))}),t.on("change",function(){t.find("[value=\""+t.val()+"\"]").prop("checked",!0)})}}},{"../utils":16}],8:[function(e,t){const{prepTemplate:a}=e("../utils");t.exports={render(e,t){const n=a(e=>`<option value="${e.value}">${e.label}</option>`);t.html(n(e))},init(e){function t(e,t){e.css("background-image","url("+t+(e.val()||e.attr("value"))+".png)")}var a=e.attr("img");if(a){var n=e.find("[selected]"),o=$("<div select>"),r=$("<div options>");for(var s of e[0].attributes)o.attr(s.name,s.value);e.wrap(o),o=e.parent(),o.append("<div caret>&#9660</div>"),e.attr("data")||e.find("option").each(function(e,t){r.append(`<div value="${t.value}">${t.innerHTML}</div>`)}),o.append(r),r=r.children();var l=n.length?n.index():0;r[l].classList.add("selected"),o.val(e.val()||r[l].getAttribute("value")),t(o,a),r.each(function(e,n){t($(n),a)}),r.click(function(){var e=$(this);e.siblings().removeClass("selected"),e.addClass("selected"),o.val(e.attr("value")),t(o,a)}),e.remove()}},style:`[select] select {display: none;}[select] {cursor: pointer;border-radius: 4px;}[select]:hover [options] {display: block;}[select] [options] {display: none;position: absolute;margin-top: 42px;margin-left: -4px;border: 4px solid #b9b9b9;border-radius: 4px;}[select] [options] div:hover {border: 4px solid #fff;}[select] [options] div.selected {border: 2px solid #0f97bd;}[select] [caret] {float: right;margin-top: 15px;margin-right: 5px;font-size: small;}[select][img] {padding: 0;}`}},{"../utils":16}],9:[function(e,t){const{is:a}=e("../utils");t.exports={render(e,t){let n,o;try{if(a.array(e))headers=Object.keys(e[0]),n=headers.map(e=>`<th>${e}</th>`).join(""),o=e.map(e=>"<tr>"+headers.map(t=>`<td>${e[t]}</td>`).join("")+"</tr>");else if(a.string(e)){const a=t.attr("separator")||",";e=e.split(/[\n]/).map(e=>e.split(a)),n=e.shift().map(e=>`<th>${e.trim()}</th>`).join(""),o=e.map(e=>"<tr>"+e.map(e=>`<td>${e.trim()}</td>`).join("")+"</tr>").join("")}else throw"invalid data, must be array or string";t.html("<thead><tr>"+n+"</tr></thead><tbody>"+o+"</tbody>")}catch(e){throw"Parsing error: "+e}}}},{"../utils":16}],10:[function(e,t){const{is:a,resolveAttr:n}=e("./utils");t.exports={History:class{constructor(e){this.app=e,this.clear(),e.history={},Object.defineProperties(e.history,{back:{value:this.back.bind(this)},forward:{value:this.forward.bind(this)},clear:{value:this.clear.bind(this)}})}push(e){this.i+=1,this.content.splice(this.i,null,e)}back(){0<this.i&&(this.i-=1,this.app.navTo(this.content[this.i],{},!0))}forward(){this.i<this.content.length-1&&(this.i+=1,this.app.navTo(this.content[this.i],{},!0))}clear(){this.i=-1,this.content=[]}},Pager:class{constructor(e,t,n){return(this.id=e,!a.string(e))?rasti.error("Pager id must be a string"):(this.logid=`Pager for template [${this.id}]:`,!a.array(t))?rasti.error("%s Results must be an array",this.logid):(this.results=t,a.array(n)&&a.number(n[0])?void(this.sizes=n,this.setPageSize(this.sizes[0])):rasti.error("%s Page sizes must be an array of numbers",this.logid))}next(){return this.hasNext()?this.page++:rasti.warn("%s No next page",this.logid),this.getPageResults(this.page)}prev(){return this.hasPrev()?this.page--:rasti.warn("%s No previous page",this.logid),this.getPageResults(this.page)}hasNext(){return this.results.length>this.page*this.page_size}hasPrev(){return 1<this.page}setPageSize(e){var t=Math.ceil;return e=parseInt(e),a.number(e)?void(this.page_size=e,this.page=0,this.total=t(this.results.length/this.page_size)):rasti.error("%s Must specify a number as the page size",this.logid)}getPageResults(e){if(!a.number(e))return rasti.error("%s Must specify a page number to get results from",this.logid),[];try{const t=(e-1)*this.page_size;return this.results.slice(t,t+this.page_size)}catch(t){return rasti.error("%s Could not get results of page %s, error:",this.logid,e,t),[]}}},state:function(e,t){function n(){rasti.error("Saved state for app [%s] is invalid",t)}return Object.defineProperties({},{page:{get:()=>e.active.page.attr("page"),enumerable:!0},theme:{get:()=>e.active.theme,enumerable:!0},lang:{get:()=>e.active.lang,enumerable:!0},save:{value:()=>{e.state.props=Object.filter(e.props,([e,t])=>!(t&&t.__trans)),localStorage.setItem("rasti."+t,JSON.stringify(e.state)),rasti.log("State saved")}},get:{value:()=>{let e;try{if(e=JSON.parse(localStorage.getItem("rasti."+t)),!e)rasti.log("No saved state found for app [%s]",t);else if(!a.object(e))n();else return e}catch(e){n()}}},restore:{value:()=>{const t=e.state.get();return t&&(rasti.log("Restoring state..."),e.props=t.props,t.theme&&e.setTheme(t.theme),t.lang&&e.setLang(t.lang),rasti.log("State restored")),t}},clear:{value:()=>{window.localStorage.removeItem("rasti."+t)}}})},crud:function(e){function t(t){return(a,...n)=>{const o=e.data[a.datakey];return o?(a.data=o,t(a,...n)):(rasti.error("Undefined data source \"%s\"",a.datakey),!1)}}function o(t,n){return(o,...i)=>{const r=e.crud[o.crudns],s=r&&r[t];return s&&!a.function(s)?(rasti.error("Illegal crud method \"%s\", must be a function!",name),!1):(s||(s=Promise.resolve),s(...i).then(()=>n(o,...i),()=>rasti.error("Could not %s element in %s",t,o.datakey)))}}function i(e,t){return a.object(e)?t.find(t=>t.id===e.id):-1<t.indexOf(e)}return{create:t(o("create",(e,t,n)=>{const o=o(n,e);return o?rasti.warn("Element [%s] already exists in data source [%s]",n.id||n,t):(a.object(n)&&(n.id=n.id||t+"-"+Date.now()),e.push(n)),!o})),delete:t(o("delete",(e,t,n)=>{const o=e.length&&(a.object(e[0])?e.find(e=>e.id===n):n);return o?e.remove(o):rasti.warn("Element [%s] not found in data source [%s]",n,t),o})),update:t(o("update",(e,t,a,n)=>{const o=i(a,e),r=i(n,e);o||rasti.warn("El [%s] not found in data source [%s]",a,t),r&&rasti.warn("El [%s] already exists in data source [%s]",n,t);const s=o&&!r;return s&&e.update(a,n),s})),genInputEl:t=>{const a=e.templates[n(t,"template")];if(!a.props){const t=/data\.([a-z]*)/g;let n,o={};for(;n=t.exec(a.html);)o[n[1]]=n[1];Object.keys(o).length||(o=e.options.newEl),a.props=o,rasti.log("Props:",o)}const o=$("<div class=rasti-crud-input contenteditable>"+a([a.props])+"</div>");t.append(o)},genDataEl:t=>{const o=e.templates[n(t,"template")],r=t.find(".rasti-crud-input");let s;return a.object(o.props)?(s={},Object.keys(o.props).forEach((e,t)=>{s[e]=r[t].innerHTML})):s=r[0].innerHTML,s},showInputEl:e=>{e.find(".rasti-crud-input").show()},hideInputEl:e=>{e.find(".rasti-crud-input").hide()},persistNewEl:t=>{t.find(".rasti-crud-input").removeClass(".rasti-crud-input").find("[contenteditable]").removeAttr("[contenteditable]"),e.crud.genInputEl(t)}}}}},{"./utils":16}],11:[function(e){const{is:t}=e("./utils");Object.defineProperties(Array.prototype,{get:{value:function(e){return 0>e?this[this.length+e]:this[e]}},new:{value:function(e,t){t=t||this.length;var a=0>this.indexOf(e);return a&&this.splice(t,0,e),a}},remove:{value:function(e){this.update(e)}},update:{value:function(e,t){var a=this.indexOf(e),n=-1<a;return n&&this.splice(a,1,t),n}},capitalize:{value:function(){return"string"==typeof this&&this.length&&this[0].toUpperCase()+this.slice(1).toLowerCase()}}}),Object.filter=(e,a)=>{const n=(e,a)=>Object.fromEntries(Object.entries(e).filter(a).map(([e,o])=>t.object(o)?[e,n(o,a)]:[e,o]));return n(e,a)},$.fn.hasAttr=function(e){return this[0]&&this[0].hasAttribute(e)},["show","hide"].forEach(e=>{var t=$.fn[e];$.fn[e]=function(){const a=this.hasAttr("menu")||this.hasAttr("modal")||this.hasAttr("sidemenu");if(a){document.body.style.setProperty("--elem-h",this[0].orig_h);const a=this.closest("[rasti]").find(".rs-backdrop");"show"==e&&(this.addClass("open"),a.addClass("backdrop"),this[0].visible=!0,t.call(this)),"hide"==e&&(this.removeClass("open"),this.addClass("close"),a.removeClass("backdrop"),this[0].visible=!1,setTimeout(()=>{this.removeClass("close"),t.call(this)},500))}else t.call(this);return this}}),$.fn.move=function(t){function a(){i.css({top:o,left:n})}var n,o,t=Object.assign({handle:this,container:this.parent()},t),i=this,r=i.css("z-index");return i.hasAttr("move")||i.attr("move",""),t.handle.on("mousedown touchstart",function(s){if("mousedown"!=s.type||1==s.which){i.css("z-index",100000);var l=t.container.width()-i.width(),d=t.container.height()-i.height(),c=i.position().left,p=i.position().top,u=s.touches,m=u?u[0].pageX:s.pageX,h=u?u[0].pageY:s.pageY;$(window).on("mousemove touchmove",function(t){var e=Math.max,i=Math.min,r=t.touches,s=r?r[0].pageX:t.pageX,u=r?r[0].pageY:t.pageY;n=e(0,i(c+s-m,l)),o=e(0,i(p+u-h,d)),window.requestAnimationFrame?requestAnimationFrame(a):a()}).one("mouseup touchend",function(t){t.preventDefault(),i.css("z-index",r),$(this).off("mousemove touchmove").off("mouseup touchend")}),s.preventDefault()}}),this}},{"./utils":16}],12:[function(e,t){t.exports={stack:e=>{e.addClass("fx-stack-container");const t=e.children();t.each((e,t)=>{t.classList.add("fx-stack-el"),setTimeout(()=>{t.classList.remove("fx-stack-el")},50*e)}),setTimeout(()=>{e.removeClass("fx-stack-container")},50*t.length+500)},stamp:e=>{e.addClass("fx-stamp-container");const t=e.children();t.each((e,t)=>{t.classList.add("fx-stamp-el"),setTimeout(()=>{t.classList.remove("fx-stamp-el")},60*e)}),setTimeout(()=>{e.removeClass("fx-stamp-container")},60*t.length+500)},toast:e=>{e.addClass("active"),setTimeout(()=>{e.removeClass("active")},4e3)}}},{}],13:[function(e,t){t.exports={app:{user:"\uD83D\uDC64",users:"\uD83D\uDC65",gear:"\u2699\uFE0F",lock:"\uD83D\uDD12","open-lock":"\uD83D\uDD13",key:"\uD83D\uDD11",home:"\uD83C\uDFE0",exit:"\uD83D\uDEAA",call:"\uD83D\uDCDE",search:"\uD83D\uDD0D",add:"\u271A",remove:"\uD83D\uDDD5",undo:"\u21B6",redo:"\u21B7",reload:"\u27F3",sync:"\uD83D\uDDD8",minimize:"\uD83D\uDDD5",restore:"\uD83D\uDDD7",maximize:"\uD83D\uDDD6",close:"\u2A2F",copy:"\uD83D\uDDC7",accept:"\u2714\uFE0F",cancel:"\u2716\uFE0F",play:"\u25B2",stop:"\u25A0",rec:"\u25CF",select:"\u26F6",select2:"\u2B1A",contrast:"\u25D0",contrast2:"\u25E7",contrast3:"\u25E9",bars:"\u2630","h-dots":"\u22EF","v-dots":"\u22EE",rows:"\u25A4",columns:"\u25A5",grid:"\u25A6",grid2:"\uD834\uDF56",warning:"\u26A0",error:"\u2A02",ban:"\uD83D\uDEC7",network:"\uD83D\uDDA7",alarm:"\uD83D\uDD14","volume-min":"\uD83D\uDD08","volume-mid":"\uD83D\uDD09","volume-max":"\uD83D\uDD0A",dim:"\uD83D\uDD05",bright:"\uD83D\uDD06",mute:"\uD83D\uDD07","alarm-off":"\uD83D\uDD15"},office:{file:"\uD83D\uDCC4","img-file":"\uD83D\uDDBB",chart:"\uD83D\uDCC8",chart2:"\uD83D\uDCCA",folder:"\uD83D\uDCC2",pen:"\uD83D\uDD8B\uFE0F",pencil:"\u270F\uFE0F",ballpen:"\uD83D\uDD8A\uFE0F",crayon:"\uD83D\uDD8D",paintbrush:"\uD83D\uDD8C\uFE0F",scissors:"\u2702\uFE0F",clipboard:"\uD83D\uDCCB",clip:"\uD83D\uDCCE",link:"\uD83D\uDD17",ruler:"\uD83D\uDCCF",ruler2:"\uD83D\uDCD0",pin:"\uD83D\uDCCC","safety-pin":"\uD83E\uDDF7",card:"\uD83D\uDCB3",label:"\uD83C\uDFF7\uFE0F",memo:"\uD83D\uDCDD",scroll:"\uD83D\uDCDC",book:"\uD83D\uDCD5",books:"\uD83D\uDCDA",bookmark:"\uD83D\uDD16","open-book":"\uD83D\uDCD6",notebook:"\uD83D\uDCD3",notepad:"\uD83D\uDDD2\uFE0F",calendar:"\uD83D\uDCC5",calendar2:"\uD83D\uDCC6",envelope:"\u2709\uFE0F",email:"\uD83D\uDCE7",mailbox:"\uD83D\uDCEB",package:"\uD83D\uDCE6",briefcase:"\uD83D\uDCBC",newspaper:"\uD83D\uDCF0",cabinet:"\uD83D\uDDC4\uFE0F","trash-can":"\uD83D\uDDD1\uFE0F"},electronics:{laptop:"\uD83D\uDCBB",desktop:"\uD83D\uDDA5\uFE0F",keyboard:"\u2328\uFE0F","pc-mouse":"\uD83D\uDDB1\uFE0F",printer:"\uD83D\uDDA8\uFE0F",smartphone:"\uD83D\uDCF1",telephone:"\u260E\uFE0F",microphone:"\uD83C\uDFA4","studio-mic":"\uD83C\uDF99\uFE0F",headphones:"\uD83C\uDFA7",camera:"\uD83D\uDCF7","video-camera":"\uD83D\uDCF9","movie-camera":"\uD83C\uDFA5",projector:"\uD83D\uDCFD\uFE0F",tv:"\uD83D\uDCFA",radio:"\uD83D\uDCFB",stereo:"\uD83D\uDCFE",loudspeaker:"\uD83D\uDCE2",gamepad:"\uD83C\uDFAE",joystick:"\uD83D\uDD79\uFE0F","sd-card":"\u26D8",cd:"\uD83D\uDCBF",minidisc:"\uD83D\uDCBD",floppy:"\uD83D\uDCBE",tape:"\uD83D\uDCFC",battery:"\uD83D\uDD0B","power-plug":"\uD83D\uDD0C",level:"\uD83C\uDF9A",knobs:"\uD83C\uDF9B"},tools:{bricks:"\uD83E\uDDF1",wrench:"\uD83D\uDD27",hammer:"\uD83D\uDD28",pick:"\u26CF\uFE0F",axe:"\uD83E\uDE93",tools:"\uD83D\uDEE0\uFE0F",tools2:"\u2692\uFE0F",toolbox:"\uD83E\uDDF0",clamp:"\uD83D\uDDDC\uFE0F",bolt:"\uD83D\uDD29",anchor:"\u2693",scales:"\u2696\uFE0F","old-key":"\uD83D\uDDDD\uFE0F",map:"\uD83D\uDDFA\uFE0F",compass:"\uD83E\uDDED",magnet:"\uD83E\uDDF2",abacus:"\uD83E\uDDEE",candle:"\uD83D\uDD6F",bulb:"\uD83D\uDCA1",flashlight:"\uD83D\uDD26",microscope:"\uD83D\uDD2C",telescope:"\uD83D\uDD2D",antenna:"\uD83D\uDCE1",satellite:"\uD83D\uDEF0\uFE0F",stethoscope:"\uD83E\uDE7A",syringe:"\uD83D\uDC89","test-tube":"\uD83E\uDDEA",alembic:"\u2697\uFE0F","petri-dish":"\uD83E\uDDEB",watch:"\u231A",stopwatch:"\u23F1\uFE0F",clock:"\u23F0",hourglass:"\u231B",razor:"\uD83E\uDE92",dagger:"\uD83D\uDDE1\uFE0F",swords:"\u2694\uFE0F",shield:"\uD83D\uDEE1\uFE0F",bow:"\uD83C\uDFF9",gun:"\uD83D\uDD2B",bomb:"\uD83D\uDCA3"},vehicles:{skateboard:"\uD83D\uDEF9",scooter:"\uD83D\uDEF4",bicycle:"\uD83D\uDEB2",motorscooter:"\uD83D\uDEF5",motorcycle:"\uD83C\uDFCD\uFE0F",car:"\uD83D\uDE97","race-car":"\uD83C\uDFCE\uFE0F",rv:"\uD83D\uDE99",bus:"\uD83D\uDE8C",minibus:"\uD83D\uDE90",truck:"\uD83D\uDE9A",ambulance:"\uD83D\uDE91","fire-engine":"\uD83D\uDE92",metro:"\uD83D\uDE87",train:"\uD83D\uDE84",locomotive:"\uD83D\uDE82",canoe:"\uD83D\uDEF6",sailboat:"\u26F5",speedboat:"\uD83D\uDEA4",motorboat:"\uD83D\uDEE5\uFE0F",ferry:"\u26F4\uFE0F",ship:"\uD83D\uDEA2",plane:"\u2708\uFE0F","small-plane":"\uD83D\uDEE9\uFE0F",helicopter:"\uD83D\uDE81",rocket:"\uD83D\uDE80",ufo:"\uD83D\uDEF8"},buildings:{ecastle:"\uD83C\uDFEF",wcastle:"\uD83C\uDFF0",etemple:"\u26E9",wtemple:"\uD83C\uDFDB",factory:"\uD83C\uDFED",building:"\uD83C\uDFE2",mall:"\uD83C\uDFEC",school:"\uD83C\uDFEB",hospital:"\uD83C\uDFE5",mail:"\uD83C\uDFE3",store:"\uD83C\uDFEA",hotel:"\uD83C\uDFE8","love-hotel":"\uD83C\uDFE9",bank:"\uD83C\uDFE6",atm:"\uD83C\uDFE7"},characters:{teacherm:"\uD83D\uDC68\u200D\uD83C\uDFEB",teacherw:"\uD83D\uDC69\u200D\uD83C\uDFEB",scientistm:"\uD83D\uDC68\u200D\uD83D\uDD2C",scientistw:"\uD83D\uDC69\u200D\uD83D\uDD2C",hackerm:"\uD83D\uDC68\u200D\uD83D\uDCBB",hackerw:"\uD83D\uDC69\u200D\uD83D\uDCBB",artistm:"\uD83D\uDC68\u200D\uD83C\uDFA8",artistw:"\uD83D\uDC69\u200D\uD83C\uDFA8",doctorm:"\uD83D\uDC68\u200D\u2695\uFE0F",doctorw:"\uD83D\uDC69\u200D\u2695\uFE0F",astronautm:"\uD83D\uDC68\u200D\uD83D\uDE80",astronautw:"\uD83D\uDC69\u200D\uD83D\uDE80",elfm:"\uD83E\uDDDD\u200D\u2642\uFE0F",elfw:"\uD83E\uDDDD\u200D\u2640\uFE0F",fairym:"\uD83E\uDDDA\u200D\u2642\uFE0F",fairyw:"\uD83E\uDDDA",merman:"\uD83E\uDDDC\u200D\u2642\uFE0F",mermaid:"\uD83E\uDDDC\u200D\u2640\uFE0F",magem:"\uD83E\uDDD9\u200D\u2642\uFE0F",magew:"\uD83E\uDDD9\u200D\u2640\uFE0F",geniem:"\uD83E\uDDDE\u200D\u2642\uFE0F",geniew:"\uD83E\uDDDE\u200D\u2640\uFE0F",superherom:"\uD83E\uDDB8\u200D\u2642\uFE0F",superherow:"\uD83E\uDDB8\u200D\u2640\uFE0F",supervillainm:"\uD83E\uDDB9\u200D\u2642\uFE0F",supervillainw:"\uD83E\uDDB9\u200D\u2640\uFE0F",vampirem:"\uD83E\uDDDB\u200D\u2642\uFE0F",vampirew:"\uD83E\uDDDB\u200D\u2640\uFE0F",zombiem:"\uD83E\uDDDF\u200D\u2642\uFE0F",zombiew:"\uD83E\uDDDF\u200D\u2640\uFE0F",jack:"\u26C4\uFE0F",jack2:"\u2603\uFE0F",teddy:"\uD83E\uDDF8"},faces:{man:"\uD83D\uDC68",woman:"\uD83D\uDC69",robot:"\uD83E\uDD16",skull:"\uD83D\uDC80",imp:"\uD83D\uDC7F",monster:"\uD83D\uDC7E",alien:"\uD83D\uDC7D",ghost:"\uD83D\uDC7B",goblin:"\uD83D\uDC7A",ogre:"\uD83D\uDC79"},animals:{hippo:"\uD83E\uDD9B",elefant:"\uD83D\uDC18",rhino:"\uD83E\uDD8F",monkey:"\uD83D\uDC12",gorilla:"\uD83E\uDD8D",orangutan:"\uD83E\uDDA7",kangaroo:"\uD83E\uDD98",sloth:"\uD83E\uDDA5",otter:"\uD83E\uDDA6",sheep:"\uD83D\uDC11",ram:"\uD83D\uDC0F",goat:"\uD83D\uDC10",deer:"\uD83E\uDD8C",camel:"\uD83D\uDC2A",horse:"\uD83D\uDC0E",llama:"\uD83E\uDD99",pig:"\uD83D\uDC16",cow:"\uD83D\uDC04",turtle:"\uD83D\uDC22",rabbit:"\uD83D\uDC07",squirrel:"\uD83D\uDC3F\uFE0F",hedgehog:"\uD83E\uDD94",raccoon:"\uD83E\uDD9D",badger:"\uD83E\uDDA1",skank:"\uD83E\uDDA8",mouse:"\uD83D\uDC01",rat:"\uD83D\uDC00",cat:"\uD83D\uDC08",dog:"\uD83D\uDC15",leopard:"\uD83D\uDC06",tiger:"\uD83D\uDC05",snake:"\uD83D\uDC0D",gecko:"\uD83E\uDD8E",crocodile:"\uD83D\uDC0A",dragon:"\uD83D\uDC09",dinosaur:"\uD83E\uDD95","t-rex":"\uD83E\uDD96",dolphin:"\uD83D\uDC2C",shark:"\uD83E\uDD88",whale:"\uD83D\uDC0B",whale2:"\uD83D\uDC33",fugu:"\uD83D\uDC21",nemo:"\uD83D\uDC1F",dori:"\uD83D\uDC20",crab:"\uD83E\uDD80",lobster:"\uD83E\uDD9E",squid:"\uD83E\uDD91",octopus:"\uD83D\uDC19",penguin:"\uD83D\uDC27",bird:"\uD83D\uDC26",dove:"\uD83D\uDD4A\uFE0F",eagle:"\uD83E\uDD85",parrot:"\uD83E\uDD9C",peacock:"\uD83E\uDD9A",duck:"\uD83E\uDD86",swan:"\uD83E\uDDA2",flamingo:"\uD83E\uDDA9",owl:"\uD83E\uDD89",bat:"\uD83E\uDD87",turkey:"\uD83E\uDD83",rooster:"\uD83D\uDC13",chick:"\uD83D\uDC25",chick2:"\uD83D\uDC24",chick3:"\uD83D\uDC23",snail:"\uD83D\uDC0C",butterfly:"\uD83E\uDD8B",mosquito:"\uD83E\uDD9F",bee:"\uD83D\uDC1D",ant:"\uD83D\uDC1C",cricket:"\uD83E\uDD97",bug:"\uD83D\uDC1B",ladybug:"\uD83D\uDC1E",spider:"\uD83D\uDD77\uFE0F",scorpion:"\uD83E\uDD82",microbe:"\uD83E\uDDA0"},plants:{leaf:"\uD83C\uDF42",herb:"\uD83C\uDF3F",maple:"\uD83C\uDF41",shamrock:"\u2618\uFE0F",luck:"\uD83C\uDF40",wheat:"\uD83C\uDF3E",bamboo:"\uD83C\uDF8B",flower:"\uD83C\uDF3C",sunflower:"\uD83C\uDF3B",rose:"\uD83C\uDF39",hibiscus:"\uD83C\uDF3A",sakura:"\uD83C\uDF38",tulip:"\uD83C\uDF37",tree:"\uD83C\uDF33",pine:"\uD83C\uDF32","palm-tree":"\uD83C\uDF34",cactus:"\uD83C\uDF35",sprout:"\uD83C\uDF31",nut:"\uD83C\uDF30"},nature:{sun:"\u2600\uFE0F",moon:"\uD83C\uDF15","new-moon":"\uD83C\uDF11","crescent-moon":"\uD83C\uDF19",fire:"\uD83D\uDD25",water:"\uD83D\uDCA7",wave:"\uD83C\uDF0A",ice:"\uD83E\uDDCA",snowflake:"\u2744\uFE0F",wind:"\uD83D\uDCA8",cloud:"\u2601\uFE0F",mountain:"\u26F0\uFE0F",volcano:"\uD83C\uDF0B",rainbow:"\uD83C\uDF08",globe:"\uD83C\uDF0F",globe2:"\uD83C\uDF0E",globe3:"\uD83C\uDF0D",comet:"\u2604\uFE0F",planet:"\uD83E\uDE90",galaxy:"\uD83C\uDF0C",dna:"\uD83E\uDDEC",cloudy:"\u26C5\uFE0F",cloudy2:"\uD83C\uDF25",rainwsun:"\uD83C\uDF26",rain:"\uD83C\uDF27",storm:"\u26C8",thunder:"\uD83C\uDF29",snow:"\uD83C\uDF28",tornado:"\uD83C\uDF2A"},"food & drink":{sandwich:"\uD83E\uDD6A",kebab:"\uD83E\uDD59",taco:"\uD83C\uDF2E",burrito:"\uD83C\uDF2F",salad:"\uD83E\uDD57",paella:"\uD83E\uDD58",burger:"\uD83C\uDF54",pizza:"\uD83C\uDF55","hot-dog":"\uD83C\uDF2D",fries:"\uD83C\uDF5F",spaghetti:"\uD83C\uDF5D",falafel:"\uD83E\uDDC6",bread:"\uD83C\uDF5E",bread2:"\uD83E\uDD56",croissant:"\uD83E\uDD50",bagel:"\uD83E\uDD6F",pretzel:"\uD83E\uDD68",butter:"\uD83E\uDDC8",cheese:"\uD83E\uDDC0",egg:"\uD83E\uDD5A","fried-egg":"\uD83C\uDF73",meat:"\uD83E\uDD69",meat2:"\uD83C\uDF56","chicken-leg":"\uD83C\uDF57",bacon:"\uD83E\uDD53",onigiri:"\uD83C\uDF59",gohan:"\uD83C\uDF5A",kare:"\uD83C\uDF5B",ramen:"\uD83C\uDF5C",dango:"\uD83C\uDF61",sashimi:"\uD83C\uDF63",shrimp:"\uD83C\uDF64",oyster:"\uD83E\uDDAA",lobster:"\uD83E\uDD9E",soup:"\uD83C\uDF72",bento:"\uD83C\uDF71",takeout:"\uD83E\uDD61",candy:"\uD83C\uDF6C",lollipop:"\uD83C\uDF6D",chocolate:"\uD83C\uDF6B",popcorn:"\uD83C\uDF7F",cookie:"\uD83C\uDF6A",donut:"\uD83C\uDF69",waffle:"\uD83E\uDDC7",pancakes:"\uD83E\uDD5E",icecream:"\uD83C\uDF68",icecream2:"\uD83C\uDF66",frosty:"\uD83C\uDF67",pie:"\uD83E\uDD67",cake:"\uD83C\uDF70",cupcake:"\uD83E\uDDC1","moon-cake":"\uD83E\uDD6E",custard:"\uD83C\uDF6E",banana:"\uD83C\uDF4C",strawberry:"\uD83C\uDF53",cherry:"\uD83C\uDF52",plum:"\uD83C\uDF51",pear:"\uD83C\uDF50",apple:"\uD83C\uDF4E",apple2:"\uD83C\uDF4F",pineapple:"\uD83C\uDF4D",lemon:"\uD83C\uDF4B",orange:"\uD83C\uDF4A",melon:"\uD83C\uDF48",watermelon:"\uD83C\uDF49",mango:"\uD83E\uDD6D",coconut:"\uD83E\uDD65",kiwi:"\uD83E\uDD5D",grapes:"\uD83C\uDF47",tomato:"\uD83C\uDF45",eggplant:"\uD83C\uDF46",avocado:"\uD83E\uDD51",broccoli:"\uD83E\uDD66",cucumber:"\uD83E\uDD52",greeny:"\uD83E\uDD6C",chili:"\uD83C\uDF36",corn:"\uD83C\uDF3D",carrot:"\uD83E\uDD55",potato:"\uD83E\uDD54","sweet-potato":"\uD83C\uDF60",garlic:"\uD83E\uDDC4",onion:"\uD83E\uDDC5",mushroom:"\uD83C\uDF44",peanut:"\uD83E\uDD5C",honey:"\uD83C\uDF6F",juice:"\uD83E\uDDC3",tea:"\uD83C\uDF75",coffee:"\u2615\uFE0F",milk:"\uD83E\uDD5B",beer:"\uD83C\uDF7A",beers:"\uD83C\uDF7B",cheers:"\uD83E\uDD42",daikiri:"\uD83C\uDF79",martini:"\uD83C\uDF78",whiskey:"\uD83E\uDD43",wine:"\uD83C\uDF77",sake:"\uD83C\uDF76",mate:"\uD83E\uDDC9",forknife:"\uD83C\uDF74",chopsticks:"\uD83E\uDD62"},"sports & fun":{running:"\uD83C\uDFC3",biking:"\uD83D\uDEB4\u200D\u2642\uFE0F",climbing:"\uD83E\uDDD7\u200D\u2642\uFE0F",swimming:"\uD83C\uDFCA",surfing:"\uD83C\uDFC4",rowing:"\uD83D\uDEA3\u200D\u2642\uFE0F",diving:"\uD83E\uDD3F",skating:"\u26F8",skiing:"\u26F7",snowboard:"\uD83C\uDFC2",horseride:"\uD83C\uDFC7",yoga:"\uD83E\uDDD8\u200D\u2642\uFE0F",rolling:"\uD83E\uDD38\u200D\u2642\uFE0F",juggling:"\uD83E\uDD39\u200D\u2642\uFE0F",basketball:"\uD83C\uDFC0",soccer:"\u26BD",football:"\uD83C\uDFC8",rugby:"\uD83C\uDFC9",volleyball:"\uD83C\uDFD0",beisball:"\u26BE",tennis:"\uD83C\uDFBE",badminton:"\uD83C\uDFF8","ping-pong":"\uD83C\uDFD3",hockey:"\uD83C\uDFD1","ice-hockey":"\uD83C\uDFD2",lacrosse:"\uD83E\uDD4D","cricket-game":"\uD83C\uDFCF",golf:"\u26F3\uFE0F",fishing:"\uD83C\uDFA3",box:"\uD83E\uDD4A",martial:"\uD83E\uDD4B",frisbee:"\uD83E\uDD4F",bowling:"\uD83C\uDFB3",pool:"\uD83C\uDFB1",die:"\uD83C\uDFB2",puzzle:"\uD83E\uDDE9",slot:"\uD83C\uDFB0",darts:"\uD83C\uDFAF",theatre:"\uD83C\uDFAD",palette:"\uD83C\uDFA8",movie:"\uD83C\uDFAC",party:"\uD83C\uDF89",party2:"\uD83C\uDF8A",baloon:"\uD83C\uDF88",yoyo:"\uD83E\uDE80",kite:"\uD83E\uDE81",fireworks:"\uD83C\uDF87",fireworks2:"\uD83C\uDF86",santa:"\uD83C\uDF85",xmas:"\uD83C\uDF84",haloween:"\uD83C\uDF83",birthday:"\uD83C\uDF82",gift:"\uD83C\uDF81"},music:{note:"\uD83C\uDFB5",notes:"\uD83C\uDFB6",sharp:"\u266F",flat:"\u266D",cleff:"\uD83C\uDFBC","cleff-g":"\uD834\uDD1E","cleff-f":"\uD834\uDD22","cleff-c":"\uD834\uDD21",guitar:"\uD83C\uDFB8",banjo:"\uD83E\uDE95",piano:"\uD83C\uDFB9",violin:"\uD83C\uDFBB",saxophone:"\uD83C\uDFB7",trumpet:"\uD83C\uDFBA",drum:"\uD83E\uDD41"},clothing:{shirt:"\uD83D\uDC55","t-shirt":"\uD83D\uDC54",shorts:"\uD83E\uDE73",pants:"\uD83D\uDC56",blouse:"\uD83D\uDC5A",dress:"\uD83D\uDC57",sari:"\uD83E\uDD7B","swim-suit":"\uD83E\uDE71",bikini:"\uD83D\uDC59",yukata:"\uD83D\uDC58",vest:"\uD83E\uDDBA",coat:"\uD83E\uDDE5","lab-coat":"\uD83E\uDD7C",heels:"\uD83D\uDC60",sandal:"\uD83D\uDC61",ballet:"\uD83E\uDE70",texan:"\uD83D\uDC62",shoe:"\uD83D\uDC5E",snicker:"\uD83D\uDC5F",boot:"\uD83E\uDD7E",flats:"\uD83E\uDD7F",socks:"\uD83E\uDDE6",briefs:"\uD83E\uDE72",gloves:"\uD83E\uDDE4",scarf:"\uD83E\uDDE3",hat:"\uD83D\uDC52","top-hat":"\uD83C\uDFA9",cap:"\uD83E\uDDE2","grad-cap":"\uD83C\uDF93",helmet:"\u26D1",crown:"\uD83D\uDC51",pouch:"\uD83D\uDC5D",purse:"\uD83D\uDC5B",handbag:"\uD83D\uDC5C",suitcase:"\uD83D\uDCBC",backpack:"\uD83C\uDF92",glasses:"\uD83D\uDC53",sunglasses:"\uD83D\uDD76\uFE0F",goggles:"\uD83E\uDD7D",ribbon:"\uD83C\uDF80"},other:{hand:"\u270B","thumbs-up":"\uD83D\uDC4D","thumbs-down":"\uD83D\uDC4E",cool:"\uD83E\uDD19",metal:"\uD83E\uDD18",spock:"\uD83D\uDD96",pinch:"\uD83E\uDD0F",arm:"\uD83D\uDCAA","bionic-arm":"\uD83E\uDDBE",leg:"\uD83E\uDDB5","bionic-leg":"\uD83E\uDDBF",foot:"\uD83E\uDDB6",eye:"\uD83D\uDC41\uFE0F",ear:"\uD83D\uDC42","bionic-ear":"\uD83E\uDDBB",tooth:"\uD83E\uDDB7",bone:"\uD83E\uDDB4",brain:"\uD83E\uDDE0",blood:"\uD83E\uDE78","band-aid":"\uD83E\uDE79",poo:"\uD83D\uDCA9",heart:"\u2764\uFE0F",hearts:"\uD83D\uDC95","broken-heart":"\uD83D\uDC94",star:"\u2B50",trophy:"\uD83C\uDFC6",diamond:"\uD83D\uDC8E",jar:"\u26B1\uFE0F",jar2:"\uD83C\uDFFA",broom:"\uD83E\uDDF9",cart:"\uD83D\uDED2",chair:"\uD83E\uDE91",pill:"\uD83D\uDC8A",globe:"\uD83C\uDF10",flag:"\u2691",film:"\uD83C\uDF9E\uFE0F",newbie:"\uD83D\uDD30",trident:"\uD83D\uDD31",japan:"\uD83D\uDDFE",fuji:"\uD83D\uDDFB","tokyo-tower":"\uD83D\uDDFC",liberty:"\uD83D\uDDFD",picture:"\uD83D\uDDBC\uFE0F","crystal-ball":"\uD83D\uDD2E",recycle:"\u267B",access:"\u267F",hot:"\u2668\uFE0F",poison:"\u2620\uFE0F",tension:"\u26A1",radioactive:"\u2622\uFE0F",biohazard:"\u2623\uFE0F",bisexual:"\u26A5",trans:"\u26A7",bitcoin:"\u20BF"},culture:{pommee:"\uD83D\uDD42",maltese:"\u2720",latin:"\u271D",latin2:"\uD83D\uDD47",celtic:"\uD83D\uDD48",jew:"\u2721",ankh:"\u2625",peace:"\u262E",ohm:"\uD83D\uDD49","ying-yang":"\u262F",atom:"\u269B\uFE0F",communism:"\u262D","moon-star":"\u262A",health:"\u26E8",darpa:"\u2638",diamonds:"\u2756"},astrology:{aries:"\u2648",tauro:"\u2649",gemini:"\u264A",piscis:"\u264B",leo:"\u264C",virgo:"\u264D",libra:"\u264E",scorpio:"\u264F",sagitarius:"\u2650",capricorn:"\u2651",aquarius:"\u2652",cancer:"\u2653",mercury:"\u263F\uFE0F",venus:"\u2640",earth:"\u2641",mars:"\u2642",jupiter:"\u2643",saturn:"\u2644",uranus:"\u2645",neptune:"\u2646",pluto:"\u2647",ceres:"\u26B3",pallas:"\u26B4",juno:"\u26B5",vesta:"\u26B6",chiron:"\u26B7"},chess:{wqueen:"\u2654",wking:"\u2655",wtower:"\u2656",wbishop:"\u2657",whorse:"\u2658",wpawn:"\u2659",bqueen:"\u265A",bking:"\u265B",btower:"\u265C",bbishop:"\u265D",bhorse:"\u265E",bpawn:"\u265F"},arrows:{up:"\u2191",down:"\u2193",left:"\u2190",right:"\u2192",up2:"\u21E7",down2:"\u21E9",left2:"\u21E6",right2:"\u21E8",up3:"\u25B3",down3:"\u25BD",left3:"\u25C1",right3:"\u25B7"},"keys & shapes":{command:"\u2318",option:"\u2325",shift:"\u21E7","caps-lock":"\u21EA",backspace:"\u232B",return:"\u23CE",enter:"\u2386",escape:"\u238B",tab:"\u21B9",power:"\u23FB",sleep:"\u23FE",triangle:"\u25B2",square:"\u25A0",pentagon:"\u2B1F",hexagon:"\u2B22",circle:"\u25CF","curved-triangle":"\uD83D\uDEC6","curved-square":"\u25A2","square-quadrant":"\u25F0","round-quadrant":"\u25F4"},hieroglyphs:{"hg-eye":"\uD80C\uDC79","hg-tear-eye":"\uD80C\uDC80","hg-ear":"\uD80C\uDC88","hg-writing-arm":"\uD80C\uDCC8","hg-leg":"\uD80C\uDCBE","hg-watering-leg":"\uD80C\uDCC2","hg-hand":"\uD80C\uDCA7","hg-hand-2":"\uD80C\uDCA9","hg-finger":"\uD80C\uDCAD","hg-open-wound":"\uD80C\uDC8D","hg-arms-hat-spear":"\uD80C\uDC99","hg-staff":"\uD80C\uDEC8","hg-fan":"\uD80C\uDDEC","hg-jar":"\uD80C\uDD23","hg-beetle":"\uD80C\uDDA3","hg-wasp":"\uD80C\uDDA4","hg-fairy":"\uD80C\uDECF","hg-sitting-man":"\uD80C\uDC00","hg-happy-sitting-man":"\uD80C\uDC4F","hg-sitting-woman":"\uD80C\uDC51","hg-sitting-bird-man":"\uD80C\uDC5F","hg-sitting-wolf-man":"\uD80C\uDC62","hg-dancing-man":"\uD80C\uDC24","hg-broken-arms-man":"\uD80C\uDC23","hg-upside-down-man":"\uD80C\uDC21","hg-dead-guy":"\uD80C\uDC3F","hg-three-legged-guy":"\uD80C\uDC72"}}},{}],14:[function(require,module,exports){(function(global){function rasti(name,container){var _Mathfloor=Math.floor;function config(e){if(!e||!is.object(e))return error("Cannot configure app [%s]: no properties found",__name);for(let t in e){const a=is.object(self[t]),n=is.object(e[t]);if(!a){warn("Unknown config prop [%s]",t);continue}if(!n){warn("Invalid config prop [%s], must be an object",t);continue}if("data methods".includes(t))for(let a in e[t]){const n=e[t][a];"methods"!=t||is.function(n)?self[t][a]=is.function(n)?n.bind(self):n:warn("Invalid method [%s], must be a function",a)}else Object.assign(self[t],e[t])}return self}function init(e){function t(e){container.find(e).each((e,t)=>{createTabs(t)})}const a=window.performance.now();if(log("Initializing app [%s]...",__name),container.addClass("big loading backdrop").removeAttr("hidden"),e&&(is.object(e)?Object.keys(self.options).forEach(t=>{exists(e[t])&&(sameType(self.options[t],e[t])?self.options[t]=e[t]:warn("Init option [%s] is invalid",t))}):warn("Init options must be an object!")),Object.keys(self.defaults).forEach(()=>{}),!self.options.lang){const e=Object.keys(self.langs);e.length&&(self.options.lang=e[0])}container.append("<style class=rs-theme>"),container.append("<div class=rs-backdrop>"),container.find("[page]").each((e,t)=>{$(t).append("<div class=\"page-options\">")}),NOCHILD_TAGS.forEach(e=>{container.find(e+"[label]").each((e,t)=>{fixLabel($(t))})}),container.find("input[icon]").each((e,t)=>{fixIcon($(t))}),container.find("[data]:not([template])").each((e,t)=>{updateBlock($(t))}),initSideMenu(),initModals(),t(".tabs"),(media.tablet||media.phone)&&t(".tabs-tablet"),media.phone&&t(".tabs-phone"),initNav(),initSubmit(),container.on("click change","[render]:not([submit])",t=>{const e=t.currentTarget,a=e.getAttribute("render");return a?void render(a):error("Missing template name in [render] attribute of element:",e)}),container.find("[bind]").each((e,t)=>{const a=$(t),n=a.attr("bind");n&&n.split(" ").forEach(e=>{a.closest("[page]").find("[prop="+e+"]").change(()=>{updateBlock(a)})})}),initPages(),TEXT_ATTRS.forEach(e=>{let t;container.find("["+e+"=\"\"]").each((a,n)=>{t=$(n),t.attr(e,resolveAttr(t,e))})}),container.find("[img]").each((e,t)=>{let a=resolveAttr($(t),"img");-1==a.indexOf("/")&&(a=self.options.imgPath+a),"."!=a.charAt(a.length-4)&&(a+=self.options.imgExt),t.style["background-image"]=`url(${a})`}),self.options.history&&(__history=new History(self),window.onpopstate=t=>{var e=t.state||location.hash.substring(1);e?t.state?navTo(e,null,!0):navTo(e):navTo(self.options.root)}),bindProps(container,self.props),initState(),container.find("[data][template]").each((e,t)=>{render(t)}),container.find("[prop][template]").each((e,t)=>{const a=$(t),n=a.attr("prop");bindElement(a,{prop:n},self.props)}),initCrud(),initEvents(),initActions(),initFieldValidations(),container.find("[movable]").each((e,t)=>{$(t).move()}),container.find("[foldable]").add("[menu]").each((e,t)=>{t.orig_h=t.clientHeight+"px"}),container.on("click","[foldable]",t=>{const e=t.target;if(e.hasAttribute("foldable")){const t=30<e.clientHeight;document.body.style.setProperty("--elem-h",e.orig_h),t?(e.classList.remove("open"),e.classList.add("folded")):(e.classList.remove("folded"),e.classList.add("open"))}}).on("click",".backdrop",()=>{container.find("[menu].open").hide(),container.find("[modal].open").hide(),self.sidemenu&&self.sidemenu.visible&&self.sidemenu.hide()}).removeClass("big loading backdrop");const n=_Mathfloor(window.performance.now()-a)/1e3;return log("App [%s] initialized in %ss",__name,n),self}function navTo(e,t={},a){if(!e)return error("Cannot navigate, page undefined");var n=self.active.page,o=n&&n.attr("page"),i=o&&self.pages[o];if(e==o)return;var r=self.pages[e],s=container.find("[page="+e+"]");if(!s.length)return error("Cannot navigate to page [%s]: page container not found",e);if(container.find("[menu]").hide(),container.find(".rs-backdrop").removeClass("backdrop"),n&&n.removeClass("active"),i&&i.out&&(is.function(i.out)?i.out(t):warn("Page [%s] {out} property must be a function!",o)),self.active.page=s,t&&!is.object(t)&&warn("Page [%s] nav params must be an object!",e),r&&r.in&&(is.function(r.in)?r.in(t):warn("Page [%s] {in} property must be a function!",e)),s.hasClass("hide-nav")?container.find("nav").hide():container.find("nav").show(),s.addClass("active"),container.find("nav [nav]").removeClass("active").filter("[nav="+e+"]").addClass("active"),container.trigger("rasti-nav"),a)return;self.options.history&&__history.push(e);let l;return r&&r.url&&(is.string(r.url)?l="#"+r.url:warn("Page [%s] {url} property must be a string!",e)),window.history.pushState(e,null,l),self}function render(e,t,a){let n,o,i="Cannot render template";if(!is.string(e))n=e.nodeName?$(e):e,o=n.attr("template"),o||(o=(n.attr("data")||n.attr("prop"))+"-"+Date.now(),n.attr("template",o));else if(o=e,i+=" ["+o+"]: ",n=container.find("[template="+o+"]"),!n.length)return error("Cannot create rasti app: no element bound to template. Please bind one via [template] attribute.");if(!t&&n.hasAttr("data")){const a=resolveAttr(n,"data");if(t=self.data[a],!t)return error("Cannot create rasti app: undefined data source \"%s\" resolved for element:",a,e)}is.string(t)&&(t=t.split(n.attr("separator")||self.options.separator)),is.array(t)||(t=[t]);let r,s=self.templates[o];if(!s||is.string(s))try{r=s||n.html(),r=r.trim(),s=genTemplate(r),s.html=r,self.templates[o]=s}catch(e){return error("Cannot create rasti app: parsing error: "+e)}if(!is.function(s))return error("Cannot create rasti app: template must be a string or a function");if(t&&!t.length)return n.html(`<div class="nodata">${self.options.noData}</div>`).addClass("rendered");const l=n.hasAttr("crud");if(l){is.object(t[0])&&!t[0].id&&t.forEach((e,t)=>e.id=t);r=append(s.html,"<div class=\"rasti-crud right centery small_ round_ inline_\" data-id=${ rasti.utils.is.object(data) ? data.id : data }>                    <div class=\"rasti-crud-update\" icon=edit></div>                    <div class=\"rasti-crud-delete\" icon=trash-can></div>                </div>"),s=genTemplate(r),s.html=r}const d=n.hasAttr("paged");if(d?initPager(n,s,t,getActiveLang()):n.html(s(t))[0].scrollTo(0,0),n.hasAttr("stats")){const e="<div section class=\"stats\">"+self.options.stats.replace("%n",t.length).replace("%t",a)+"</div>";n.prepend(e)}if(l){n.prepend("\n                <div class=\"rasti-crud right small_ round_ \">\n                    <div class=\"rasti-crud-create\" icon=star></div>\n                    <div class=\"rasti-crud-accept\" icon=accept></div>\n                    <div class=\"rasti-crud-cancel\" icon=cancel></div>\n                </div>"),__crud.genInputEl(n)}return n.addClass("rendered"),d||applyFX(n),self}function setLang(e){var t=self.langs[e];if(!t)return error("Cannot set lang [%s]: lang not found",e);if(!is.object(t))return error("Cannot set lang [%s]: lang must be an object!",e);log("Setting lang [%s]",e),self.active.lang=e;var a,n,o,i=$();return TEXT_ATTRS.forEach(e=>{i=i.add("["+e+"]")}),i.each((t,i)=>{for(let r in i.hasAttribute("fixed")&&(i=i.children[0]),a=$(i),n=i.langkeys,n||(n={},TEXT_ATTRS.forEach(e=>{a.attr(e)&&(n[e]=a.attr(e))}),i.langkeys=n),n)o=getString(e,n[r]),"text"==r?a.text(o||n[r]):o?a.attr(r,o):null}),Object.keys(self.defaults).forEach(e=>{self.options[e]=t["rasti_"+e]||self.defaults[e]}),self}function setTheme(e){if(!e)return warn("Call to setTheme() with no argument");var t=e.split(" ")[0],a=self.themes[t],n=self.themes.base,o=self.themeMaps.dark;if(!a)return error("Cannot set theme [%s]: theme not found",t);var i=e.split(" ")[1]||is.object(a.maps)&&Object.keys(a.maps)[0]||"dark",r=is.object(a.maps)&&a.maps[i]||self.themeMaps[i];r||(warn("Theme map [%s] not found, using default theme map [dark]",i),r=o,i="dark"),log("Setting theme [%s:%s]",t,i),self.active.theme=t,r={...r};var s,l,d,c,p,u={font:a.font||n.font};for(let t of Object.keys(o)){for(let e in s=r[t]||o[t],s=[d,c]=s.split(" "),l=[a.palette[d],a.palette[c]],l)p=o[t].split(" ")[e],p&&!l[e]&&(l[e]=n.palette[s[e]],!l[e]&&(warn("Color [%s] not found in theme nor base palette, using it as is",s[e]),l[e]=s[e]));u[t]=l,r[t]&&delete r[t]}var m=Object.keys(r);m.length&&warn("Ignored %s invalid theme map keys:",m.length,m),container.find(".rs-theme").html(getThemeStyle(u));var h,g;return container.find("[bg]").each((e,t)=>{h=t.getAttribute("bg"),g=a.palette[h]||n.palette[h],g||warn("Color [%s] not found in theme palette, using it as is",h,t),t.style["background-color"]=g||h}),self}function updateBlock(e,t){function a(t){if(exists(t)||warn("Detected non-existant data ref when trying to render element",n),!is.empty(t))try{i.render(t,e)}catch(e){error("Cannot render block: "+e,n)}}const n=e[0];let o=e.attr("block")||n.nodeName.toLowerCase();if("ol ul".includes(o)&&(o="list"),!o)return error("Missing block type in [block] attribute of element:",n);const i=rasti.blocks[o];if(!i)return error("Undefined block type \"%s\" declared in [block] attribute of element:",o,n);if(!n.initialized){if(exists(i.init)&&!is.function(i.init))return error("Invalid \"init\" prop defined in block type \"%s\", must be a function",o);is.function(i.init)&&i.init(e),n.initialized=!0}if(!t){const a=resolveAttr(e,"data");if(!a)return;if(t=self.data[a],!exists(t))return warn("Detected non-existant data ref in data source \"%s\" declared in [data] attribute of element:",a,n);if(is.empty(t))return}const r=e.attr("bind"),s={};return r&&r.split(" ").forEach(e=>{s[e]=$("[prop="+e+"]").val()}),is.function(t)?t(a,s):a(t),self}function toggleFullScreen(){return["moz","webkit"].forEach(e=>{e+"FullscreenElement"in document&&(document[e+"FullscreenElement"]?document[e+"CancelFullScreen"]&&document[e+"CancelFullScreen"]():document.documentElement[e+"RequestFullScreen"]())}),self}function genTemplate(e){return t=>evalTemplate(e,t,self.data,self.props,self.methods,getActiveLang())}function evalTemplate(tmp_string,tmp_data,data,props,methods,lang){try{return tmp_data?tmp_data.map(el=>eval("html`"+tmp_string+"`")):eval("html`"+tmp_string+"`")}catch(e){error("Error evaluating template string\n%s:",tmp_string,e.message)}}function append(e,t){return e.substring(0,e.length-6).concat(t+"</div>")}function applyFX(e,t){const a=e[0],n=e.attr("fx");if(n){const o=rasti.fx[n];if(!o)return warn("Undefined fx \"%s\" declared in [fx] attribute of element",n,a);if(!is.function(o))return error("fx.%s must be a function!",n);if(t&&!is.string(t))return error("Cannot apply fx, invalid selector provided for el",a);const i=t?e.find(t):e;return i.length?void o(i):warn("Cannot apply fx, cannot find target \"%s\" in el",target,a)}}function getActiveLang(){return self.langs&&self.langs[self.active.lang]}function bindProps(e,t){e.children().each((e,a)=>{const n=$(a),o=n.attr("prop");let i;if(!o||n.hasAttr("template"))a.children.length&&bindProps(n,t);else if(n.hasAttr("transient")&&(i=!0),exists(a.value))bindElement(n,{prop:o,trans:i},t);else{const e={};i&&(e.__trans=!0),t[o]=t[o]||e;const a=t[o];bindProps(n,a)}})}function bindElement(t,{prop:a,trans:n},o){if(o[a])updateElement(t,o[a]);else{const e=new String("");n&&(e.__trans=!0),o[a]=e}t.on("change",(n,e)=>{e&&e._setter||(o[a]=t.is("[type=checkbox]")?t[0].checked:t.val())}),Object.defineProperty(o,a,{get:function(){return __state[a]},set:function(e){if(n){const t=is.string(e)?new String(e):e;t.__trans=!0,__state[a]=t}else __state[a]=e;updateElement(t,e,!0)}})}function updateElement(e,t,a){e.is("[template]")?render(e,t):(e.is("textarea")?e.text(t):e.is("[type=checkbox]")?e[0].checked=!!t:e.val(t),e.trigger("change",{_setter:a}))}function initPages(){let e,t;for(let a in self.pages){if(e=self.pages[a],!is.object(e))return error("pages.%s must be an object!",a);if(t=container.find("[page="+a+"]"),!t.length)return error("No container found for page \"%s\". Please bind one via [page] attribute",a);if(e.init){if(!is.function(e.init))return error("pages.%s.init must be a function!",a);log("Initializing page [%s]",a),self.active.page=t,e.init()}}self.active.page=null}function initState(){let e;if(self.options.persist&&($(window).on("beforeunload",()=>{self.state.save()}),e=self.state.restore()),self.active.theme||setTheme(self.options.theme),self.options.lang&&!self.active.lang&&setLang(self.options.lang),self.options.lang||container.find("[text]").each((e,t)=>{$(t).text($(t).attr("text"))}),e)navTo(e.page);else{const e=location.hash.substring(1)||self.options.root;navTo(e&&self.pages[e]?e:container.find("[page]").first().attr("page"))}}function initNav(){container.on("click","[nav]",t=>{const e=t.currentTarget,a=$(e),n=a.attr("nav");let o={};if(!n)return error("Missing page name in [nav] attribute of element:",e);if(a.hasAttr("params")){const t=self.active.page;let n,i=a.attr("params");if(!i)t.find("[navparam]").each((e,t)=>{const a=$(t),n=resolveAttr(a,"navparam");n&&(o[n]=a.val())});else if("{"==i[0])try{o=JSON.parse(i)}catch(t){return error("Invalid JSON in [params] attribute of element:",e),void error("Tip: be sure to use double quotes (\"\") for both keys and values")}else i=o.split(" "),i.forEach(e=>{n=t.find("[navparam="+e+"]"),n.length?o[e]=n.val():warn("Could not find navparam element [%s]",e)})}navTo(n,o)})}function initSubmit(){container.on("click","[submit]",t=>{const e=$(t.target),a=e.attr("submit"),n=e.attr("then"),o=e.attr("render"),i=n&&is.function(self.methods[n]),r=window.performance.now();return a?void(n&&!i&&error("Undefined method [%s] declared in [then] attribute of el:",n,this),e.addClass("loading").attr("disabled",!0),submitAjax(a,t=>{const s=_Mathfloor(window.performance.now()-r)/1e3;log("Ajax method [%s] took %s seconds",a,s),i&&self.methods[n](t),o&&render(o,t,s),e.removeClass("loading").removeAttr("disabled")})):error("Missing method in [submit] attribute of el:",this)})}function initEvents(){for(let e of EVENT_ATTRS)container.find("[on-"+e+"]").each((t,a)=>{const n=$(a),o=n.attr("on-"+e);if(!o)return error("Missing method in [on-%s] attribute of element:",e,a);const i=self.methods[o];if(!i)return error("Undefined method \"%s\" declared in [on-%s] attribute of element:",o,e,a);const r=n.closest("[template]");r.length&&!n.hasAttr("template")?r.on(e,`[on-${e}=${o}]`,i):n.on(e,i),"click"==e&&n.addClass("clickable")})}function initActions(){for(let t of ACTION_ATTRS)container.find("["+t+"]").each((e,a)=>{const n=$(a),o=n.closest("[page]"),i=n.attr(t);if(!i)return error("Missing target selector in [%s] attribute of element:",t,a);let r=o.find("["+i+"]");if(r.length||(r=container.find("["+i+"]")),!r.length)return error("Could not find target [%s] declared in [%s] attribute of element:",i,t,a);const s=r[0];n.on("click",a=>{a.stopPropagation(),r.addClass("target"),container.find("[menu]:not(.target)").hide(),r.removeClass("target"),is.function(s[t])?s[t]():r[t]();const e="none"!=s.style.display;e?r.focus():r.blur()})})}function initFieldValidations(){function t(e){let t=!0;return e.each((e,a)=>(t=t&&a.validity.valid,t)),!t}container.find("button[validate]").each((e,a)=>{const n=$(a).parent().find("input[required]");a.disabled=t(n),n.each((e,o)=>{$(o).on("keydown",o=>{a.disabled=t(n),"Enter"!=o.key||a.disabled||a.click()})})})}function initModals(){container.find("[modal]").each((e,t)=>{$("<div icon=close class=\"top right clickable\" />").on("click",()=>{$(t).hide()}).appendTo(t)})}function initSideMenu(){self.sidemenu=function(e){if(e)return e.enabled=!1,e.visible=!1,e.show=()=>{e.enabled&&($(e).show(),e.visible=!0)},e.hide=()=>{e.enabled&&($(e).hide(),e.visible=!1)},e.toggle=()=>{e.enabled&&(e.visible?e.hide():e.show())},e.enable=()=>{e.classList.add("enabled"),e.enabled=!0},e.disable=()=>{e.classList.remove("enabled"),e.enabled=!1},e.switch=()=>{e.enabled?e.disable():e.enable()},e}(container.find("[sidemenu]")[0]),self.sidemenu&&(media.phone&&self.sidemenu.enable(),media.on.phone(()=>{self.sidemenu.switch()}))}function createTabs(e){function t(e){return self.active.page.find(e).length||self.active.page.attr("page")===e.attr("page")}var a=$(e),n=a.hasAttr("page")?a.children("[panel]:not([modal])"):a.hasAttr("panel")?a.children("[section]:not([modal])"):void 0;if(!n)return error("Cannot create tabs: container must be a [page] or a [panel]",e);var o,r,s,l=$("<div class=\"tab-labels\">"),d=$("<div class=\"bar\">");n.each((e,t)=>{o=$(t),o.attr("tab",e),r=resolveAttr(o,"tab-label")||"TAB "+(e+1),l.append($(`<div tab-label=${e} text="${r}">`))}),l.append(d).prependTo(a);var c=n.wrapAll("<div h-flow>").parent();l.on("click",t=>{var e=$(t.target),a=e.attr("tab-label"),o=n.filter(`[tab="${a}"]`);n.removeClass("active"),o.addClass("active")[0].scrollIntoView(),l.children().removeClass("active"),e.addClass("active")}),c.on("scroll",t=>{s=t.target.scrollLeft/t.target.scrollWidth,d.css({left:s*t.target.offsetWidth})}),container.on("rasti-nav",()=>{t(a)&&(d.css({width:c[0].offsetWidth/n.length}),!l.children(".active").length&&l.children().first().click())}),$(window).on("resize",()=>{t(a)&&(l.find(".active").click(),d.css({width:c[0].offsetWidth/n.length}))})}function initCrud(){container.find("[crud][template]").each((e,t)=>{const a=$(t),n=resolveAttr(a,"template"),o=resolveAttr(a,"data"),i=resolveAttr(a,"crud");render(t),a.on("click",".rasti-crud-delete",t=>{const e=$(t.currentTarget).closest("[data-id]"),r=e.attr("data-id");try{__crud.delete({datakey:o,crudkey:i},r).then(()=>{e.parent().detach(),log("Removed element [%s] from template [%s]",r,n)},()=>{__crud.hideInputEl(a),a.removeClass("active")})}catch(e){rasti.error(e)}}),a.on("click",".rasti-crud-update",()=>{}),a.on("click",".rasti-crud-create",()=>{__crud.showInputEl(a),a.addClass("active")}),a.on("click",".rasti-crud-accept",()=>{let e;try{e=__crud.genDataEl(a),__crud.create({datakey:o,crudkey:i},e).then(()=>{__crud.persistNewEl(a),a.removeClass("active")},()=>{__crud.hideInputEl(a),a.removeClass("active")})}catch(e){rasti.error(e)}}),a.on("click",".rasti-crud-cancel",()=>{__crud.hideInputEl(a),a.removeClass("active")})})}function initPager(e,t,a){function n(a){p.html(t(a).join(""))[0].scrollTo(0,0),m.html(i.page+"/"+i.total),h[0].disabled=!i.hasPrev(),g[0].disabled=!i.hasNext(),applyFX(e,".results")}const o=e.attr("template"),i=newPager(o,a,self.options.page_sizes);let r,s,l,d=0,c=1;1<i.total&&(r=`<div class="paging fcenter small_ inline_"><button icon=left3 /><span class=page /><button icon=right3 /></div>`,s=`<button icon=rows>${self.options.page_sizes[0]}</button>`),e.hasAttr("columns")&&(l=`<button icon=columns>1</button>`),e.html(`<div class="results scrolly rigid"></div><div class="controls fcenter small_ inline_">${l||""}${r||""}${s||""}</div>`);const p=e.find(".results"),u=e.find(".controls"),m=u.find(".page"),h=u.find("[icon=left3]"),g=u.find("[icon=right3]");u.on("click","[icon=right3]",()=>{n(i.next())}).on("click","[icon=left3]",()=>{n(i.prev())}).on("click","[icon=rows]",t=>{d+=1;var e=i.sizes[d%i.sizes.length];i.setPageSize(e),$(t.target).html(e),n(i.next()),1<i.total?u.find(".paging").show():u.find(".paging").hide()}).on("click","[icon=columns]",t=>{c=3<c+1?1:c+1,$(t.target).html(c),p.removeClass("columns-1 columns-2 columns-3").addClass("columns-"+c)}),n(i.next())}function getPager(e){let t=__pagers.get(e);return t||error("No pager found for template [%s]",e),t}function newPager(e,t,a){let n=new Pager(e,t,a);return __pagers.set(e,n),n}function deletePager(e){e&&e.id&&__pagers.delete(e.id)}function submitAjax(e,t){var a=self.methods[e];if(!is.function(a))return error("Ajax method ["+e+"] is not defined");var n=container.find("[ajax="+e+"]");if(!n.length)return error("No container element bound to ajax method [%s]. Please bind one via [ajax] attribute",e);var o,r={};n.find("[prop]:not([private])").each((e,t)=>{$el=$(t),o=$el.attr("prop"),o&&(r[o]=$el.val()||$el.attr("value"))}),a(r,t)}function getThemeStyle(e){var t=`[rasti=${__name}]`;return`${t} {font: ${e.font};color: ${e.text[0]};background-color: ${e.page[0]};}${t} nav       { background-color: ${e.page[1]}; }${t} [page]    { background-color: ${e.page[0]}; }${t} [panel]   { background-color: ${e.panel[0]}; }${t} [section] { background-color: ${e.section[0]}; }${t} [page][header]:before,${t} [page][footer]:after     { background-color: ${e.page[1]}; }${t} [panel][header]:before   { background-color: ${e.panel[1]}; }${t} [section][header]:before { background-color: ${e.section[1]}; }${t} .tab-labels        { background-color: ${e.panel[0]}; }${t} .tab-labels > .bar { background-color: ${e.btn[0]}; }${t} input:not([type]),${t} input[type=text],${t} input[type=password],${t} input[type=email],${t} input[type=tel],${t} select,${t} textarea,${t} .field {background-color: ${e.field[0]};color: ${e.field[1]};}${t} input[type=radio],${t} input[type=checkbox] {border: 1px solid ${e.field[1]};}${t} input[type=radio]:checked,${t} input[type=checkbox]:checked {background-color: ${e.btn[0]};}${t} button,${t} [block=buttons] > div.active,${t} nav > div.active,${t} nav > a.active,${t} .list > div.active {background-color: ${e.btn[0]};color: ${e.btn[1]};}${t} [block=buttons] > div {border: 1px solid ${e.field[1]};}${t} [header]:before { color: ${e.header[0]}; }${t} [label]:not([header]):before  { color: ${e.label[0]}; }`}function getString(e,t){if(!is.object(self.langs[e]))return void error("Lang [%s] is not defined",e);var a=self.langs[e][t];return is.string(a)?a:void warn("Lang [%s] does not contain key [%s]",e,t)}function fixLabel(e){const t=resolveAttr(e,"label");e.wrap($(`<div fixed label="${t}" >`)),e[0].removeAttribute("label")}function fixIcon(e){const t=e.parent();t.hasAttr("fixed")?t.attr(icon,e.attr("icon")).addClass("floating"):e.wrap($(`<div fixed icon=${e.attr("icon")} class=floating >`)),e[0].removeAttribute("icon")}function get(e){var t=self.active.page&&self.active.page.find("["+e+"]");return t&&t.length||(t=container.find("["+e+"]")),t.length||warn("No elements found for selector [%s]",e),t}function set(e,t){var a=get(e);return a.each((e,a)=>{a.value=t,$(a).change()}),a}function add(e,...t){var a=get(e);return a.each((e,a)=>{t.forEach(e=>{is.array(e)?a.value=a.value.concat(e):a.value.push(e)}),$(a).change()}),a}const self=this,errPrefix="Cannot create rasti app: ";if(!is.string(name))return error(errPrefix+"app must have a name!");if(name=name.replace(" ",""),!container)container=$("body");else if(!container.selector)if(is.string(container)||container.tagName&&-1<"BODY DIV".search(container.tagName))container=$(container);else return error(errPrefix+"app container is invalid. Please provide a selector string, a jQuery object ref or a DOM element ref");container.attr("rasti",name);const __name=name,__pagers=new Map,__crud=crud(this),__state={};let __history,__invalid_data_count=0;return this.options=Object.assign({},options),this.defaults={stats:this.options.stats,noData:this.options.noData},this.active={page:null,theme:"",lang:""},this.state=state(this,__name),this.props={},this.methods={},this.pages={},this.templates={},this.data={},this.langs={},this.themes=themes,this.themeMaps=themeMaps,this.sidemenu=null,this.config=config,this.init=init,this.navTo=navTo,this.render=render,this.setLang=setLang,this.setTheme=setTheme,this.updateBlock=updateBlock,this.toggleFullScreen=toggleFullScreen,this}function bootstrap(){const e=$(document).find("[rasti]");let t,a;e.forEach(e=>{if(t=e.getAttribute("rasti"),!t)error("Missing app name in [rasti] attribute of app container:",e);else if(global[t])error("Name [%s] already taken, please choose another name for app in container:",t,e);else{global[t]=a=new rasti(t,e),Object.keys(a.options).forEach(t=>{e.hasAttribute(t)&&(a.options[t]=e.getAttribute(t),is.boolean(options[t])&&!a.options[t]&&(a.options[t]=!0))});var n=e.getAttribute("src");n&&(log("Loading sources for app [%s]...",t),utils.inject(n))}})}function genBlockStyles(){let e,t=["<style blocks>"];for(let a in rasti.blocks)e=rasti.blocks[a].style,e&&t.push(e);return t.push("</style>"),t.join("")}function genIconStyles(){let e,t=["<style icons>"];for(let a in rasti.icons)for(let n in a=rasti.icons[a],a)e=a[n],style=`[icon=${n}]:before{content:'${e}';}`,t.push(style);return t=t.concat(genIconFixesStyles()),t.push("</style>"),t.join("")}function genIconFixesStyles(){const e=[];let t,a;return[[`=error =sync =reload =remove =restore =stereo =img-file=latin2 =celtic =ankh =comunism =health ^=hg-`,{base:"2",small:"1.5",big:"3",huge:"4.4"}],[`=close =network =pommee =diamonds`,{base:"2.5",small:"1.8",big:"3.3",huge:"4.9"}]].forEach(([n,o])=>{Object.entries(o).forEach(([o,i])=>{a="base"==o?null:o,t=n.split(/[\s\n]+/).map(e=>a?`.${a}[icon${e}]:before,.${a}_>[icon${e}]:before`:`[icon${e}]:before`).join(","),t+=`{ font-size: ${i}rem; }`,e.push(t)})}),e}require("./extensions");const{History,Pager,state,crud}=require("./components"),utils=require("./utils"),{is,sameType,exists,resolveAttr,html}=utils,{themes,themeMaps}=require("./themes"),options={history:!0,persist:!0,root:"",theme:"base",lang:"",separator:";",stats:"%n results in %t seconds",noData:"No data available",newEl:"New element",imgPath:"img/",imgExt:".png",page_sizes:[5,10,20,50]},breakpoints={phone:500,tablet:800},media={on:{}};for(let e in breakpoints){const t=window.matchMedia(`(max-width: ${breakpoints[e]}px)`);media[e]=t.matches,media.on[e]=e=>t.addListener(e)}const TEXT_ATTRS=["label","header","text","placeholder"],EVENT_ATTRS=["click","change","hover","input","keydown","submit","load"],ACTION_ATTRS=["show","hide","toggle"],NOCHILD_TAGS=["input","select","textarea","img"],log=(...e)=>{-1<rasti.options.log.search(/debug/i)&&console.log.call(this,...e)},warn=(...e)=>{-1<rasti.options.log.search(/(warn)|(debug)/i)&&console.warn.call(this,...e)},error=(...e)=>{console.error.call(this,...e)};rasti.log=log,rasti.warn=warn,rasti.error=error,rasti.utils=utils,rasti.blocks=require("./blocks/all"),rasti.icons=require("./icons"),rasti.fx=require("./fx"),rasti.options={log:"debug"},module.exports=global.rasti=Object.freeze(rasti),$("head").prepend(genBlockStyles()+`<style>:root{--pad:20px}body{margin:0;overflow-x:hidden;text-shadow:0 0 0}*,:after,:before{box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:background-color .2s}a{text-decoration:none;font-weight:600}h1{font-size:3em}h2{font-size:2em}h3{font-size:1.5em}h1,h2,h3{margin-top:0}p.big{font-size:1.5em}ol,ul{padding:5px 10px 5px 30px;border-radius:2px}li:not(:last-child){margin-bottom:5px}caption,table,tbody,td,tfoot,th,thead,tr{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}table{border:1px solid #0003;width:100%;text-align:center;border-collapse:collapse}table td,table th{border:1px solid #0003;padding:4px 5px}table thead{background:#ddd;border-bottom:3px solid #0003}table thead th{font-weight:700;text-align:center}table tfoot{font-weight:700;border-top:3px solid #0003}.field,button,input,select,textarea{min-height:35px;width:100%;padding:5px 10px;margin:0 0 15px 0;border:0;border-radius:2px;outline:0;font-family:inherit!important;font-size:inherit;vertical-align:text-bottom}input[type=email]:focus:invalid,input[type=password]:focus:invalid,input[type=tel]:focus:invalid,input[type=text]:focus:invalid{border-top-left-radius:0;border-bottom-left-radius:0;box-shadow:-4px 0 0 0 red}input[type=email]:focus:valid,input[type=password]:focus:valid,input[type=tel]:focus:valid,input[type=text]:focus:valid{border-top-left-radius:0;border-bottom-left-radius:0;box-shadow:-4px 0 0 0 green}button,input[type=range],select{cursor:pointer}button{display:inline-block;height:50px;width:auto;min-width:50px;padding:10px 20px;border:1px solid rgba(0,0,0,.1);font-size:1.2em;text-align:center;text-decoration:none;text-transform:uppercase}button:not(:disabled):hover{filter:contrast(1.5)}button:disabled{filter:contrast(.5);cursor:auto}button[icon]{display:flex;align-items:center;justify-content:center;padding:0}select{appearance:none;-moz-appearance:none;-webkit-appearance:none}option{cursor:pointer}textarea{height:70px;resize:none}.big_>button,.big_>input,button.big,input.big{min-height:70px;margin-bottom:25px;font-size:1.5em}.small_>button,.small_>input,button.small,input.small{min-height:25px;max-height:25px;font-size:1em}input[type=checkbox],input[type=radio]{-webkit-appearance:none;appearance:none;min-height:25px;width:25px;margin:5px;font-size:2em;line-height:.6;text-align:center;vertical-align:middle;cursor:pointer}input[type=radio]{border-radius:50%}input[type=checkbox]+label,input[type=radio]+label{height:40px;max-width:90%;overflow:hidden;text-overflow:ellipsis;vertical-align:middle;cursor:pointer}input[type=checkbox]:checked::before{content:'⨯';display:inline-block;position:absolute;color:#222}input[type=radio]:checked::after{display:inline-block;position:absolute;height:16px;width:16px;margin-left:-33px;background-color:#000;border-radius:50%}input[type=checkbox]:checked,input[type=checkbox]:focus,input[type=checkbox]:hover,input[type=radio]:checked,input[type=radio]:focus,input[type=radio]:hover{box-shadow:inset 0 0 4px #000}input[type=checkbox]+label:hover,input[type=checkbox]:focus+label,input[type=checkbox]:hover+label,input[type=radio]+label:hover,input[type=radio]:focus+label,input[type=radio]:hover+label{font-weight:600}input[type=checkbox].toggle{position:relative;height:26px;width:44px;border-radius:12px;transition:background-color .4s}input[type=checkbox].toggle::before{content:'';position:absolute;top:2px;left:2px;width:20px;height:20px;border-radius:50%;background-color:#000;transition:left .4s}input[type=checkbox].toggle:checked::before{left:20px}meter,progress{width:100%;margin:0;border-radius:2px}meter{height:8px;border:1px solid #ccc}meter::-webkit-meter-bar{background:#fff}meter::-webkit-meter-optimum-value{background:linear-gradient(to bottom,#62c462,#51a351)}meter::-webkit-meter-suboptimum-value{background:linear-gradient(to bottom,#fbb450,#f89406)}meter::-webkit-meter-even-less-good-value{background:linear-gradient(to bottom,#ee5f5b,#bd362f)}hr{display:flex;align-items:center;height:30px;border:none}hr::before{content:'';display:block;height:2px;width:100%;background-color:rgba(0,0,0,.5)}[page],[panel],[section]{position:relative;overflow:hidden}[page]{min-height:100vh;width:100vw!important;padding-bottom:10px;margin-bottom:-5px;overflow-y:auto}[page]:not(.active){display:none!important}nav:not([hidden])~[page]:not(.hide-nav){min-height:calc(100vh - 50px)}.fullh[page]{height:100vh}[panel]{padding:25px;border-radius:2px}[section]{padding:20px;border-radius:2px}[section] [label]:before{text-shadow:0 0 0 #000}[section]>:first-child:not([label]){margin-top:0}[section]:not(:last-child){margin-bottom:15px}[foldable],[header]{position:relative}[foldable]{padding-top:30px}[header]:not([page]){padding-top:45px}[foldable][panel],[header][panel]{padding-top:65px}[foldable]:before,[footer][page]:after,[header][page]:before,[header][panel]:before,[header][section]:before{content:attr(header);display:flex;align-items:center;justify-content:center;width:100%;text-transform:uppercase}[header][page]:before{height:50px;margin-bottom:15px;font-size:1.8em;line-height:30px}[foldable]:not([page]):before,[header]:not([page]):before{position:absolute;top:0;left:0}[header][panel]:before{height:40px;padding:10px;font-size:1.5em;line-height:20px}[foldable]:before,[header]:before{height:30px;padding:10px;font-size:1.2em;line-height:20px}[footer][page]:after{content:attr(footer)}[page][header][fix-header]:before{position:fixed;top:0}[page][footer][fix-footer]:after{position:fixed;bottom:0}[img]{background-repeat:no-repeat;background-position:center;background-size:contain;background-origin:content-box}[template]{position:relative;visibility:hidden}[template].rendered{visibility:visible}[template]>.results{max-height:calc(100% - 60px);margin:0 -15px;padding:0 15px}[template][stats]>.results{max-height:calc(100% - 95px)}[template]>.controls{height:60px;padding:10px;color:#fff}[template]>.controls *{margin:0 2px}[template]>.stats{height:40px;padding:10px;font-size:1.1em}[paged]{padding-bottom:0!important}[crud]>*{position:relative}.rasti-crud-create{display:block!important}.rasti-crud,.rasti-crud-accept,.rasti-crud-cancel,.rasti-crud-input,[crud].active .rasti-crud-create{display:none!important}[crud].active .rasti-crud-accept,[crud].active .rasti-crud-cancel,[crud].active .rasti-crud-input{display:inline-block!important}[crud]>.rasti-crud{bottom:-40px;z-index:1}[crud]:hover>.rasti-crud,[crud]>:hover>.rasti-crud{display:block!important}[h-flow]{display:inline-block!important;white-space:nowrap;height:100%;width:100%;overflow-x:auto;overflow-y:hidden}[h-flow]>*{display:inline-block;white-space:normal;height:100%;min-width:100%;border-radius:0;margin-top:0;margin-bottom:0;margin-left:auto!important;margin-right:auto;vertical-align:top}.tab-labels+[h-flow]{height:calc(100vh - 50px)}nav~[page]>.tab-labels+[h-flow]{height:calc(100vh - 100px)}.tab-labels,nav{display:flex;align-items:center;position:relative;white-space:nowrap;min-width:100vw;height:50px;padding:0;border-bottom:1px solid rgba(0,0,0,.2);border-radius:0;text-transform:uppercase}nav{z-index:8}.tab-labels{justify-content:space-around;z-index:2}.tab-labels>.bar{position:absolute;bottom:0;left:0;height:4px;transition:left .2s,width .2s}[tab-label],nav>a,nav>div{display:flex;justify-content:center;align-items:center;flex:1 1 auto;height:100%;min-width:50px;padding:5px;font-size:1.4em;text-shadow:0 0 0 #000;text-decoration:none;border-right:1px solid #0003;color:inherit;cursor:pointer}nav>a,nav>div{transition:all .2s}[tab-label].active{filter:contrast(1.5)}[sidemenu].enabled{position:fixed!important;top:0;left:-80vw;height:100%;min-width:80vw!important;max-width:80vw;z-index:10}[sidemenu].enabled.open{left:0;animation:slide-in .2s}[sidemenu].enabled.close{animation:slide-out .2s}.modal,[modal]{visibility:hidden;position:fixed;left:0;right:0;top:0;bottom:0;margin:auto!important;height:auto;width:auto;max-height:600px;max-width:400px;overflow-y:auto;z-index:10}.modal.big,[modal].big{max-height:800px;max-width:600px}.modal.small,[modal].small{max-height:400px;max-width:200px}[modal].open{visibility:visible;animation:zoom-in .2s,fade-in .2s}[modal].close{animation:zoom-out .2s,fade-out .2s}[menu]{visibility:hidden;position:fixed;background-color:inherit;box-shadow:0 0 4px 4px rgba(0,0,0,.2);z-index:10;cursor:pointer}[menu]>div{padding:10px;margin-bottom:0;text-transform:capitalize}[menu]>div:not(:last-child){border-bottom:1px solid #0003}[menu].open{visibility:visible;animation:fold .2s reverse}[menu].close{animation:fold .2s}[label]{position:relative;margin-top:35px;margin-bottom:15px;vertical-align:bottom}[label][fixed]>*{margin-bottom:0}[label]>input,[label]>select,[label]>textarea{margin-top:0!important}[label]:not([panel]):not([section]):before{content:attr(label);position:absolute;height:35px;line-height:35px;font-size:1.2em;text-transform:capitalize}[label]:before{top:0;left:0;margin-top:-35px}[label].big:before{margin-left:0}[label][fixed]:before{margin-top:-30px;margin-left:0}.inline-label[label],.inline-label_>[label]{width:auto;margin-top:0;padding-left:calc(40% + 10px)}.inline-label[label]:before,.inline-label_>[label]:before{top:auto;width:80%;left:-40%;margin-top:0;text-align:right}.inline-label[label][fixed]:before,.inline-label_>[label][fixed]:before{margin-top:0;margin-left:-8px}.below-label[label]:before,.below-label_>[label]:before{bottom:-40px;left:0;right:0;margin-top:0;margin-left:0}.big [label]{margin-top:25px;font-size:1.2em}.big [label]:before{margin-top:-27px}.clickable,[hide],[onclick],[show],[toggle]{cursor:pointer}[movable]{user-select:none;cursor:move}[resizable]{resize:both;overflow:hidden}[foldable].open{animation:fold-out .2s}[foldable].folded{animation:fold-in .2s;height:30px!important;overflow:hidden;padding-bottom:0}[foldable]:before{content:attr(foldable) '  △';cursor:pointer}[foldable].folded:before{content:attr(foldable) '  ▽'}.row{width:100%;display:flex;flex-flow:row wrap;align-content:flex-start;padding-left:1%}.col{display:flex;flex-flow:column nowrap;align-content:flex-start;align-items:center}.col>.row-1,.row>.col-1{flex-basis:7.33%}.col>.row-2,.row>.col-2{flex-basis:15.66%}.col>.row-3,.row>.col-3{flex-basis:24%}.col>.row-4,.row>.col-4{flex-basis:32.33%}.col>.row-5,.row>.col-5{flex-basis:40.66%}.col>.row-6,.row>.col-6{flex-basis:49%}.col>.row-7,.row>.col-7{flex-basis:57.33%}.col>.row-8,.row>.col-8{flex-basis:65.66%}.col>.row-9,.row>.col-9{flex-basis:74%}.col>.row-10,.row>.col-10{flex-basis:82.33%}.col>.row-11,.row>.col-11{flex-basis:90.66%}.row [class*=col-]{margin-left:0!important}.row [class*=col-]:not(:last-child){margin-right:1%!important}.col [class*=row-]{margin-top:0!important;margin-bottom:1vh!important}.page-options{flex-basis:initial!important}[icon]{min-height:50px}[icon]:empty{padding:0}[icon]:before{display:inline-block;flex-grow:0;height:50px;width:50px;font-size:1.5rem;line-height:2;text-align:center;text-decoration:none}.small[icon],.small_>[icon]{min-height:35px}.small[icon]:before,.small_>[icon]:before{height:35px;width:35px;font-size:1.2rem;line-height:1.7}.big[icon]:before,.big_>[icon]:before{height:70px;width:70px;font-size:2.2rem;line-height:1.9}.huge[icon]:before,.huge_>[icon]:before{height:100px;width:100px;font-size:3.2rem;line-height:1.9}.round[icon]:before,.round_>[icon]:before{border-radius:50%}.floating[icon]{position:relative;padding-left:0}.floating[icon]:before{position:absolute;top:0;left:4px;height:35px;width:35px;font-size:1.1rem}.floating[icon]>input{padding-left:45px}[icon=remove]:before{line-height:.6!important;font-weight:600}[icon=close]:before,[icon=network]:before{line-height:1!important}[icon=diamonds]:before{line-height:1.1!important}[icon=pommee]:before,[icon=restore]:before{line-height:1.2!important}[icon=ankh]:before,[icon=celtic]:before,[icon=comunism]:before,[icon=img-file]:before,[icon=latin2]:before,[icon=reload]:before,[icon=stereo]:before,[icon^=hg-]:before{line-height:1.3!important}[icon=sync]:before{line-height:1.3!important;transform:rotate(90deg)}[icon=error]:before{line-height:1.35!important;font-weight:600}[icon=copy]:before{line-height:1.5!important;font-weight:600;font-size:1.7rem}[icon=health]:before{line-height:1.5!important}[icon=warning]:before{line-height:1.6!important}[icon=maximize]:before,[icon=minimize]:before{line-height:1.7!important}[icon=play]:before,[icon=undo]:before{line-height:1.7!important;transform:rotate(90deg)}[icon=redo]:before{line-height:1.7!important;transform:rotate(-90deg)}[icon=caps-lock]:before,[icon=return]:before,[icon=shift]:before{font-family:auto;font-weight:600}[icon=candle]:before,[icon=desktop]:before,[icon=printer]:before,[icon=stopwatch]:before,[icon=studio-mic]:before{font-weight:600}[icon=tab]:before{font-family:auto}[icon=pinch]:before{transform:rotate(90deg)}[icon=crescent-moon]:before,[icon=moon]:before{filter:grayscale(1)}.list{border:1px solid rgba(0,0,0,.2)}.list[header]{padding-top:40px}.list>div{height:7vh;padding:2vh;transition:all .2s}.list>div{border-bottom:1px solid rgba(0,0,0,.2)}.list>div:first-child{border-top:1px solid rgba(0,0,0,.2)}.list>div.active{border-left:7px solid #222}.list>div:hover{text-shadow:0 0 1px #000}.nodata{padding:10% 5%;margin:auto;font-size:1.5rem;text-align:center}button.fab{position:fixed;bottom:0;right:0;width:50px;margin:20px;border-radius:50%;z-index:5}.backdrop:before{content:'';position:fixed;top:0;left:0;height:100vh;width:100vw;background:rgba(0,0,0,.7);animation:fade-in .2s;z-index:9}.loading{color:transparent!important;position:relative}.loading>*{visibility:hidden}.loading:after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;width:25px;height:25px;margin:auto;border-radius:50%;border:.25rem solid rgba(255,255,255,.2);border-top-color:#fff;animation:spin 1s infinite linear;visibility:visible}.big.loading:after{position:fixed;width:100px;height:100px;z-index:10}.loading2{perspective:120px}.loading2:after{content:"";position:absolute;left:25px;top:25px;width:50px;height:50px;background-color:#3498db;animation:flip 1s infinite linear}@keyframes stamp{50%{transform:scale(1.2)}}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes flip{0%{transform:rotate(0)}50%{transform:rotateY(180deg)}100%{transform:rotateY(180deg) rotateX(180deg)}}@keyframes zoom-in{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes zoom-out{0%{transform:scale(1)}100%{transform:scale(0)}}@keyframes fade-in{0%{opacity:0}100%{opacity:1}}@keyframes fade-out{0%{opacity:1}100%{opacity:0}}@keyframes slide-in{0%{left:-100vw}100%{left:0}}@keyframes slide-out{0%{left:0}100%{left:-100vw}}@keyframes fold-in{0%{height:var(--elem-h);overflow:hidden}100%{height:0;overflow:hidden}}@keyframes fold-out{0%{height:0;overflow:hidden}100%{height:var(--elem-h);overflow:hidden}}.hidden{position:absolute;visibility:hidden}.rel,.rel_>*{position:relative}.fix,.fix_>*{position:fixed}.inline,.inline_>*{display:inline-block;margin-top:0;margin-bottom:0}.floatl,.floatl_>*{float:left}.floatr,.floatr_>*{float:right}.left,.left_>*{position:absolute;left:0}.right,.right_>*{position:absolute;right:0}.top,.top_>*{position:absolute;top:0}.bottom,.bottom_>*{position:absolute;bottom:0}.centerx,.centerx_>*{position:absolute;left:0;right:0;margin:auto!important}.centery,.centery_>*{position:absolute;top:0;bottom:0;margin:auto!important}.center,.center_>*{position:absolute;left:0;right:0;top:0;bottom:0;margin:auto!important}.fcenterx,.fcenterx_>*{display:flex;justify-content:center}.fcentery,.fcentery_>*{display:flex;align-items:center}.fcenter,.fcenter_>*{display:flex;justify-content:center;align-items:center}.scrollx,.scrollx_>*{width:100%;overflow-x:auto;overflow-y:hidden}.scrolly,.scrolly_>*{height:100%;overflow-x:hidden;overflow-y:auto}.scroll,.scroll_>*{overflow:auto}.textl,.textl_>*{text-align:left}.textr,.textr_>*{text-align:right}.textc,.textc_>*{text-align:center}.fullw,.fullw_>*{width:100%}.fullh,.fullh_>*{height:100%}.halfw,.halfw_>*{width:50%}.halfh,.halfh_>*{height:50%}.autow,.autow_>*{width:auto}.autoh,.autoh_>*{height:auto}.autom,.autom_>*{margin:auto!important}.m0{margin:0!important}.pad-s,.pad-s_>*{padding:calc(var(--pad) * .5)}.pad,.pad_>*{padding:var(--pad)}.pad-l,.pad-l_>*{padding:calc(var(--pad) * 1.5)}.p0{padding:0!important}.round,.round_>*{border-radius:50%}.columns-2,.columns-3{display:flex;flex-wrap:wrap;align-content:flex-start}.columns-2>*{width:49%;margin-right:2%}.columns-3>*{width:32%;margin-right:2%}.columns-2>:nth-child(2n),.columns-3>:nth-child(3n){margin-right:0}.wrap{flex-wrap:wrap}.nowrap{flex-wrap:nowrap}.scale-up,.scale-up_>*{transition:all .2s ease-in-out}.scale-up:hover,.scale-up_>:hover{transform:scale(1.1)}[fx=toast]{position:fixed;display:flex;left:0;right:0;bottom:-100px;width:100vw;max-width:600px;min-height:90px;max-height:90px;padding:20px;margin:auto;overflow:hidden;text-overflow:ellipsis;z-index:10;transition:bottom ease-out .25s}[fx=toast].active{bottom:0}[fx=toast] [icon]::before{border-radius:50%;font-size:2rem;line-height:1.6;box-shadow:0 0 0 1px}[fx=toast] [icon=warning]::before{background:#ff0;line-height:1.4}[fx=toast] [icon=error]::before{background:red;line-height:1.4}[fx=toast] [icon=accept]::before{background:green}.fx-stack-container>*{transition:margin-top 2s ease;margin-top:0}.fx-stack-el{margin-top:100px}.fx-stamp-container>*{transition:opacity .3s;animation:stamp .3s}.fx-stamp-el{opacity:0;animation:none}.flip-container{perspective:1000px;position:relative}.flipper{transition:.6s;transform-style:preserve-3d;position:absolute}.flipper.flip{transform:rotateY(180deg)}.flipper .back,.flipper .front{backface-visibility:hidden;top:0;left:0}.flipper .front{z-index:2;transform:rotateY(0)}.flipper .back{transform:rotateY(180deg)}::-webkit-scrollbar{width:10px;background:0 0}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.3);background-clip:content-box;border-left:solid transparent 2px;border-right:solid transparent 2px;border-radius:4px}::-webkit-scrollbar-thumb:hover{background-color:rgba(0,0,0,.4)}@-moz-document url-prefix(http://),url-prefix(https://){scrollbar{-moz-appearance:none!important;background:#0f0!important}scrollbarbutton,thumb{-moz-appearance:none!important;background-color:#00f!important}scrollbarbutton:hover,thumb:hover{-moz-appearance:none!important;background-color:red!important}scrollbarbutton{display:none!important}scrollbar[orient=vertical]{min-width:15px!important}}input[type=range]{-webkit-appearance:none;background:0 0}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;height:20px;width:20px;background-color:red;border-radius:50%;border:1px solid #000;margin-top:-5px;cursor:pointer}input[type=range]::-webkit-slider-runnable-track{width:100%;height:10px;background:green;border:1px solid #222;border-radius:5px;cursor:pointer}input[type=range]::-ms-track{width:100%;cursor:pointer;background:0 0;border-color:transparent;color:transparent}@media only screen and (min-width:800px){.show-phone,.show-tablet{position:absolute;visibility:hidden}.pad-s-desktop,.pad-s-desktop_>*{padding:calc(var(--pad) * .5)}.pad-desktop,.pad-desktop_>*{padding:var(--pad)}.pad-l-desktop,.pad-l-desktop_>*{padding:calc(var(--pad) * 1.5)}.p0-desktop{padding:0}}@media only screen and (min-width:500px) and (max-width:800px){.pad-s-tablet,.pad-s-tablet_>*{padding:calc(var(--pad) * .5)}.pad-tablet,.pad-tablet_>*{padding:var(--pad)}.pad-l-tablet,.pad-l-tablet_>*{padding:calc(var(--pad) * 1.5)}.p0-tablet{padding:0}}@media only screen and (max-width:800px){[page][header]:before{line-height:.8}.hide-tablet{display:none}.show-tablet{position:relative;visibility:visible}[header].hh-tablet:before{display:none}[header].hh-tablet[page]{padding-top:0}[header].hh-tablet[panel]{padding-top:20px}[header].hh-tablet[section]{padding-top:15px}}@media only screen and (max-width:500px){[page]{padding-bottom:0;overflow-y:auto}[panel]{padding:15px;border-radius:0}[template]>.controls>.columns,[template]>.controls>.sizes{display:none}[options]{bottom:0;left:0!important;right:0;height:80%!important;margin:auto}.row{padding-left:0}.row:not(.rigid)>[class*=col-],[class*=columns-]:not(.rigid)>*{min-width:100%}.hide-phone{display:none}.show-phone{position:relative;visibility:visible}[header].hh-phone:before{display:none}[header].hh-phone[page]{padding-top:0}[header].hh-phone[panel],[header].hh-phone[section]{padding-top:15px}.pad-s-phone{padding-left:5%;padding-right:5%}.pad-phone{padding-left:10%;padding-right:10%}.pad-l-phone{padding-left:15%;padding-right:15%}.p0-phone{padding:0}}</style>`+genIconStyles()),bootstrap()}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"./blocks/all":1,"./components":10,"./extensions":11,"./fx":12,"./icons":13,"./themes":15,"./utils":16}],15:[function(e,t,a){a.themes={base:{font:"normal 14px Apple Color Emoji, Segoe UI Emoji, NotoColorEmoji, Segoe UI Symbol, Android Emoji, EmojiSymbols, EmojiOne Mozilla",palette:{white:"#eee",lighter:"#ddd",light:"#bbb",mid:"#999",dark:"#444",darker:"#222",black:"#111",detail:"darkcyan",lighten:"rgba(255,255,255,0.2)",darken:"rgba(0,0,0,0.2)"}}},a.themeMaps={dark:{page:"black lighten",panel:"darker lighten",section:"dark lighten",field:"light darker",btn:"detail darker",header:"light",label:"light",text:"light"},light:{page:"light darken",panel:"mid lighten",section:"lighten darken",field:"lighter dark",btn:"detail dark",header:"darker",label:"darker",text:"darker"}}},{}],16:[function(e,t){function a(e){const t=Object.prototype.toString.call(e);return t.substring(8,t.length-1).toLowerCase()}function n(e){switch(typeof e){case"string":e={value:e,label:e,alias:e.toLowerCase()};break;case"object":r.string(e.value)&&r.string(e.label)?r.string(e.alias)?e.alias=e.alias.toLowerCase()+" "+e.value.toLowerCase():(e.alias&&rasti.error("Invalid data property \"alias\" (must be a string):",e),e.alias=e.value.toLowerCase()):(rasti.error("Invalid data object (must have string properties \"value\" and \"label\"):",e),e={value:"",label:"INVALID DATA",alias:""});break;default:rasti.error("Invalid data (must be a string or an object):",e),e={value:"",label:"INVALID DATA",alias:""};}return e}function o(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#96;")}const r={};["object","function","array","string","number","regex","boolean"].forEach(e=>{r[e]=t=>a(t)===e}),r.empty=e=>r.array(e)||r.string(e)?0===e.length:!!r.object(e)&&0===Object.keys(e).length;const i=(...e)=>e.reduce((e,t)=>(...a)=>t(e(...a)));t.exports={is:r,type:a,sameType:(e,t)=>a(e)===a(t),exists:e=>e!==void 0&&null!==e,compose:i,prepTemplate:e=>t=>t.map(i(n,e)).join(""),inject:function(e){function t(e){const n=e.shift().trim(),o=$("<script>").attr("src",n);o[0].onload=()=>{rasti.log("> Loaded %s",n),e.length?t(e):rasti.log("All sources loaded")},rasti.log("> Loading %s ...",n),a.append(o)}if(r.string(e)&&(e=e.split(",")),!r.array(e))return rasti.error("Invalid sources, must be an array or a string");const a=$("body");t(e)},checkData:n,html:function(e,...t){const a=e.raw;let n="";return t.forEach((e,t)=>{let i=a[t];r.array(e)&&(e=e.join("")),i.endsWith("!")&&(e=o(e),i=i.slice(0,-1)),n+=i,n+=e}),n+=a[a.length-1],n},resolveAttr:function(e,t){var a=e.attr(t)||e.attr("name")||e.attr("prop")||e.attr("nav")||e.attr("section")||e.attr("panel")||e.attr("page")||e.attr("template");return a||rasti.warn("Could not resolve value of [%s] attribute in el:",t,e[0]),a},random:()=>(0|6*Math.random())+1,onMobile:()=>500>window.innerWidth}},{}]},{},[14])(14)});
var rasti=function(){function h(N,O,P){var Q=J.pages[N],R=$('[page='+N+']');return R?void(J.activePage=R,O&&!L.object(O)&&I('Page [%s] nav params must be an object!',N),Q&&Q.nav&&(L.function(Q.nav)?Q.nav(O):I('Page [%s] nav property must be a function!',N)),$('[page].active').removeClass('active'),J.activePage.addClass('active'),$(document).trigger('rasti-nav'),P||(Q&&Q.url?L.string(Q.url)?window.history.pushState(N,null,'#'+Q.url):G('Page [%s] url property must be a string!',N):window.history.pushState(N,null))):I('Page [%s] container not found',N)}function j(N,O,P){var Q=J.templates[N];if(!Q)return I('Template [%s] is not defined',N);var R=$('[template='+N+']');if(!R.length)return I('No element bound to template [%s]. Please bind one via [template] attribute.',N);var S=R[0];if(!O){var T=R.attr('data');if(!T)return I('No data found for template [%s]. Please provide in ajax response or via [data] attribute in element:',N,S);if(O=J.data[T],!O)return I('Undefined data source "%s" in [data] attribute of element:',T,S)}if(!O.length)return R.html('<div msg center textc>NO RESULTS</div>');var U=R.attr('paging');if(U?r(R,O):R.html(Q(O)),S.hasAttribute('stats')){var V=$('<div section class="stats">');V.html(app.options.stats.replace('%n',O.length).replace('%t',P)),R.prepend(V)}var W=R.attr('fx');if(W){var X=J.fx[W];if(!X)return I('Undefined fx "%s" in [fx] attribute of element',W,S);U?X(R.find('.results')):X(R)}}function k(N){var O=N.split(' ')[0],P=J.themes[O];if(!P)return I('Theme [%s] not found',O);var Q=N.split(' ')[1]||L.object(P.maps)&&Object.keys(P.maps)[0]||'dark',R=L.object(P.maps)&&P.maps[Q]||J.themeMaps[Q];if(!R)return I('Theme map [%s] not found',Q);G('Setting theme [%s:%s]',O,Q),J.activeTheme=P;var T,U,V,W,X,S={font:P.font||J.themes.base.font};for(var Y of Object.keys(R)){if(!J.themeMaps.dark[Y])return I('Mapping error in theme [%s]. Incorrect theme map property [%s]',O,Y);for(var Z in T=[V,W]=R[Y].split(' '),U=[P.palette[V],P.palette[W]],U)X=J.themeMaps.dark[Y].split(' ')[Z],X&&!U[Z]&&(U[Z]=J.themes.base.palette[T[Z]],!U[Z]&&(H('Mapping error in theme [%s] for attribute [%s]. Color [%s] not found. Falling back to default color [%s].',O,Y,T[Z],X),U[Z]=J.themes.base.palette[X]));S[Y]=U}$('style[theme]').html(y(S));for(var _ of Object.keys(P.palette)){var aa=P.palette[_];$('.'+_).css('background-color',aa)}}function l(N){var O=J.langs[N];if(!O)return I('Lang [%s] not found',N);if(!L.object(O))return I('Lang [%s] must be an object!',N);G('Setting lang [%s]',N),J.activeLang=N;var Q,R,S,P=$(),T='label header text placeholder'.split(' ');T.forEach(function(U){P=P.add('['+U+']')}),P.each(function(U,V){for(var W in V.hasAttribute('fixed')&&(V=V.children[0]),Q=$(V),R=V.langkeys,R||(R={},T.forEach(function(X){Q.attr(X)&&(R[X]=Q.attr(X))}),V.langkeys=R),R)S=z(N,R[W]),'text'==W?Q.text(S||R[W]):S?Q.attr(W,S):null})}function m(N,O){function P(X){if(U.html(S.template(X,N)),K){var Y=N.attr('field'),Z=N.closest('[page]').attr('page');H('Detected %s invalid data entries for field [%s] in page [%s]',K,Y,Z),K=0}}var Q=N[0],R='SELECT'==Q.nodeName?'select':N.attr('rasti');if(!R)return I('Missing block type, please provide via [rasti] attribute in element:',Q);var S=J.blocks[R];if(!S)return I('Undefined block type "%s" in [rasti] attribute of element:',R,Q);if(!O){var T=N.attr('data');if(!T)return I('Missing datakey, please provide via [data] attribute in element:',Q);if(O=J.data[T],!O)return I('Undefined data source "%s" in [data] attribute of element:',T,Q)}var U,V;if('multi'===R){var V=N.attr('field');if(!V)return I('Missing [field] attribute value in element:',Q);U=N.closest('[page]').find('[options='+V+']'),U.length||(U=$('<div field rasti='+R+' options='+V+'>'),N.closest('[page]').children('.page-options').append(U))}else U=N;L.function(O)?O(P):P(O)}function o(N){function O(W){return J.activePage.find(W).length||J.activePage.attr('page')===W.attr('page')}var T,U,V,P=N[0],Q=N.children(':not(.page-options)'),R=$('<div class="tab-labels">'),S=$('<div class="bar">');Q.each(function(W,X){T=$(X),T.attr('tab',W),U=T.attr('label')||T.attr('header')||T.attr('name')||'TAB '+(W+1),R.append($(`<div tab-label=${W} text="${U}">`))}),R.append(S).appendTo(N),R.on('click',function(W){var X=$(W.target),Y=X.attr('tab-label'),Z=Q.filter(`[tab="${Y}"]`);Q.removeClass('active'),Z.addClass('active')[0].scrollIntoView(),R.children().removeClass('active'),X.addClass('active')}),N.on('scroll',function(){V=P.scrollLeft/P.scrollWidth,S.css({left:V*P.offsetWidth})}),$(document).on('rasti-nav',function(){O(N)&&(S.css({width:P.offsetWidth/Q.length}),!R.children('.active').length&&R.children().first().click())}),$(window).on('resize',function(){O(N)&&(R.find('.active').click(),S.css({width:P.offsetWidth/Q.length}))})}function q(N){var O=N[0],P='SELECT'==O.nodeName?'select':N.attr('rasti');if(!P)return I('Missing block type, please provide via [rasti] attribute in element:',O);var Q=J.blocks[P];return Q?void(N.attr('data')&&m(N),Q.init(N)):I('Undefined block type "%s" in [rasti] attribute of element:',P,O)}function r(N,O){function P(Y){$results.html(R(Y)),$controls.find('.page').html(U.page+'/'+U.total),L.function(S)&&S($results)}var V,W,X,Q=N.attr('template'),R=J.templates[Q],S=N.attr('fx')&&J.fx[N.attr('fx')],T=parseInt(N.attr('paging')),U=u(Q,O,T);N[0].hasAttribute('columns')&&(W=`<div class="columns floatl ib_"><label>Columns:</label><button btn>1</button><button btn value=2>2</button><button btn value=3>3</button></div>`),1<U.total&&(V=`<div class="paging ib_"><button class="btn prev">&lt;</button><span class="page"></span><button class="btn next">&gt;</button></div>`),X=`<div class="sizes floatr ib_"><label>Page size:</label><button btn value=5>5</button><button btn value=10>10</button><button btn value=20>20</button></div>`,N.html(`<div class="results scrolly"></div><div class="controls small bottom centerx ib_">${W||''}${V||''}${X}</div>`),$controls=N.children('.controls'),$results=N.children('.results'),$controls.on('click','.next',function(){P(U.next())}),$controls.on('click','.prev',function(){P(U.prev())}),$controls.on('click','.sizes button',function(){U.setPageSize(this.value),P(U.next()),1<U.total?$controls.find('.paging').show():$controls.find('.paging').hide()}),$controls.on('click','.columns button',function(){$results.removeClass('columns-2 columns-3').addClass(this.value?'columns-'+this.value:'')}),$results.html(R(U.next())),$controls.find('.page').html(U.page+'/'+U.total)}function u(N,O,P){let Q=new M(N,O,P);return J.pagers.set(N,Q),Q}function w(N,O){var P=J.ajax[N];if(!L.function(P))return I('Ajax method ['+N+'] is not defined');var Q=$('[ajax='+N+']');if(!Q.length)return I('No container element bound to ajax method [%s]. Please bind one via [ajax] attribute',N);var S,R={};Q.find('[field]').each(function(T,U){$el=$(U),S=$el.attr('field'),S&&(R[S]=$el.val()||$el.attr('value'))}),P(R,O)}function x(N){switch(typeof N){case'string':N={value:N,label:N,alias:N.toLowerCase()};break;case'object':L.string(N.value)&&L.string(N.label)?L.string(N.alias)?N.alias=N.alias.toLowerCase()+' '+N.value.toLowerCase():(N.alias&&(I('Invalid data property "alias" (must be a string):',N),K++),N.alias=N.value.toLowerCase()):(I('Invalid data object (must have string properties "value" and "label"):',N),K++,N={value:'',label:'INVALID DATA',alias:''});break;default:I('Invalid data (must be a string or an object):',N),K++,N={value:'',label:'INVALID DATA',alias:''};}return N}function y(N){return`body {font: ${N.font};color: ${N.text[0]};}[page]    { background-color: ${N.page[0]}; }[panel]   { background-color: ${N.panel[0]}; }[section] { background-color: ${N.section[0]}; }
[page][header]:before    { background-color: ${N.page[1]}; }[panel][header]:before   { background-color: ${N.panel[1]}; }[section][header]:before { background-color: ${N.section[1]}; }
[tabs] > .tab-labels        { background-color: ${N.panel[0]}; }[tabs] > .tab-labels > .bar { background-color: ${N.btn[0]}; }
[field] {background-color: ${N.field[0]};color: ${N.field[1]};}
[btn], .btn, [rasti=buttons] > div {background-color: ${N.btn[0]};color: ${N.btn[1]}; }
[header]:before { color: ${N.header[0]}; }[label]:not([header]):before  { color: ${N.label[0]}; }`}function z(N,O){if(!L.object(J.langs[N]))return void I('Lang [%s] is not defined',N);var P=J.langs[N][O];return L.string(P)?P:void H('Lang [%s] does not contain key [%s]',N,O)}function A(N){var O=$(`<div fixed label="${N.attr('label')}" >`);N.wrap(O),N[0].removeAttribute('label')}function B(N,O){N.css('background-image','url('+O+(N.val()||N.attr('value'))+'.png)')}function C(){return 500>window.innerWidth}function D(){return(0|6*Math.random())+1}function E(N){var O=Object.prototype.toString.call(N);return O.substring(8,O.length-1).toLowerCase()}function F(N,O){return E(N)===E(O)}function G(...N){J.options.log&&console.log.call(this,...N)}function H(...N){J.options.log&&console.warn.call(this,...N)}function I(...N){J.options.log&&console.error.call(this,...N)}var J=this,K=0,L={};'object function array string number regex boolean'.split(' ').forEach(function(N){L[N]=function(O){return E(O)===N}}),this.activePage=null,this.activeTheme='',this.activeLang='',this.pagers=new Map,this.options={root:'',lang:'',log:!0,theme:'base',stats:'%n results in %t seconds'},this.pages={},this.data={},this.ajax={},this.utils={is:L,type:E,sameType:F},this.templates={},this.langs={},this.themes={base:{font:'normal 14px sans-serif',palette:{white:'#fff',lighter:'#ddd',light:'#bbb',mid:'#888',dark:'#444',darker:'#222',black:'#000',detail:'darkcyan',lighten:'rgba(255,255,255,0.1)',darken:'rgba(0,0,0,0.1)'}}},this.themeMaps={dark:{page:'darker lighten',panel:'dark lighten',section:'mid lighten',field:'light darker',btn:'detail darker',header:'darker',label:'darker',text:'darker'},light:{page:'lighter darken',panel:'mid lighten',section:'light darken',field:'lighter dark',btn:'detail light',header:'dark',label:'mid',text:'dark'}},this.fx={stack:function(N){N.children().each(function(O,P){setTimeout(function(){P.style.opacity=1,P.style.marginTop='15px'},50*O)})}},this.blocks={buttons:{template:function(N){var P='';for(var Q of N)Q=x(Q),P+=`<div value="${Q.value}">${Q.label}</div>`;return P},init:function(N){N.find('div').click(function(){var P=$(this);P.parent().val(P.attr('value')).trigger('change')}),N.change(function(){var P=$(this);P.children().removeClass('active'),P.find('[value="'+P.val()+'"]').addClass('active')})},style:`[rasti=buttons] > div {display: inline-block;margin: 5px !important;padding: 5px 10px;border-radius: 6px;border: 2px outset rgba(255, 255, 255, 0.5);background-clip: padding-box;cursor: pointer;}[rasti=buttons] > div.active {filter: contrast(1.5);border-style: inset;padding: 4px 11px 6px 9px;transform: translateY(-1px);}`},radios:{template:function(N){var P=D(),Q='';for(var R of N)R=x(R),Q+=`<div><input type="radio" name="${P}[]" value="${R.value}"><label>${R.label}</label></div>`;return Q},init:function(N){N.find('input').change(function(){var P=$(this);P.closest('[rasti=radios]').val(P.attr('value'))}),N.find('input +label').click(function(){var P=$(this);P.prev().click()}),N.change(function(){var P=$(this);P.find('[value="'+P.val()+'"]').prop('checked',!0)})},style:`[rasti=radios]>div {height: 24px;padding-top: 5px}`},checks:{template:function(N){var P=D(),Q='';for(var R of N)R=x(R),Q+=`<div><input type="checkbox" name="${P}[]" value="${R.value}"><label>${R.label}</label></div>`;return Q},init:function(N){N[0].value=[],N.find('input').change(function(){var P=$(this),Q=P.attr('value'),R=P.closest('[rasti=checks]')[0].value;P.prop('checked')?R.push(Q):R.remove(Q)}),N.find('input +label').click(function(){var P=$(this);P.prev().click()}),N.change(function(){var Q,R,P=$(this);P.find('input').each(function(S,T){Q=$(T),R=P[0].value.includes(Q.attr('value')),Q.prop('checked',R)})})},style:`[rasti=checks]>div {height: 24px;padding-top: 5px}`},multi:{template:function(N,O){var P=O[0].hasAttribute('filter')?`<input field type="text" placeholder="${O.attr('filter')||J.options.multiFilterText}"/>`:'';for(var Q of N)Q=x(Q),P+=`<option value="${Q.value}" alias="${Q.alias}">${Q.label}</option>`;return P},init:function(N){function O(){var V=T.children().length,W=P.value.length-V,X=V>=(P.max||P.total);return X?(0<W&&(P.value=P.value.slice(0,V),H('Dropped %s overflowed values in el:',W,P)),N.addClass('full'),C()&&R.parent().removeClass('backdrop'),R.hide()):N.removeClass('full'),X}var P=N[0],Q=N.attr('field'),R=N.closest('[page]').find('[options='+Q+']'),S=L.number(P.total);if(P.value=[],P.total=R.children().length,P.max=parseInt(N.attr('max')),S)return N.find('[selected]').empty(),void N.removeClass('full');N.prepend('<div add>'),N.append('<div selected>');var T=N.find('[selected]');N.on('click',function(){R.siblings('[options]').hide(),C()&&R.parent().addClass('backdrop'),R.css('left',this.getBoundingClientRect().right).show(),R.find('input').focus()}),N.closest('[page]').on('click','*:not(option)',function(V){$(V.target).attr('field')===Q||$(V.target).parent().attr('field')===Q||(C()&&R.parent().removeClass('backdrop'),R.hide())});var U=function(V){V.stopPropagation(),R.find('input').focus();var W=$(V.target),X=W.attr('value'),Y=N[0].value;W.parent().attr('options')?(N.find('[selected]').append(W),Y.push(X)):(R.append(W),Y.remove(X)),O(),N.trigger('change',{ui:!0})};N.on('click','option',U),R.on('click','option',U),R.on('click',function(){R.find('input').focus()}),R.on('input','input',function(){this.value?R.find('option').hide().filter('[alias*='+this.value+']').show():R.find('option').show()}),N.on('change',function(V,W){if(!(W&&W.ui)){T.children().each(function(Y,Z){R.append(Z)});for(var X of P.value)if(T.append(R.find('[value='+X+']')),O())break}})},style:`[rasti=multi] {position: relative;min-height: 35px;padding-right: 20px;text-shadow: 0 0 0 #000;cursor: pointer;}[rasti=multi] [add] {display: flex;align-items: center;position: absolute;right: 0;top: 0;height: 100%;width: 20px;border-left: 1px solid rgba(0,0,0,0.2);}[rasti=multi] [add]:before {content: '〉';padding-top: 2px;padding-left: 6px;}[rasti=multi].open [add] {box-shadow: inset 0 0 2px #000;}[rasti=multi].full {padding-right: 5px;}[rasti=multi].full [add] {display: none;}[rasti=multi] option {padding: 2px 0;}[rasti=multi] option:before {content: '✕';display: inline-block;box-sizing: border-box;height: 20px;width: 20px;margin-right: 5px;border-radius: 50%;text-align: center;line-height: 1.5;}[rasti=multi] [selected] {max-height: 100px;overflow-y: auto;}[rasti=multi] [selected]>option:hover:before {color: #d90000;background-color: rgba(255, 0, 0, 0.5);}[rasti=multi][options] {display: none;position: absolute;top: 0;width: 250px;height: 100%;padding: 5px 10px;border: 1px solid;z-index: 10;overflow-y: auto;}[rasti=multi][options]>option:before {transform: rotate(45deg);}[rasti=multi][options]>option:hover:before {color: #008000;background-color: rgba(0, 128, 0, 0.5);}[rasti=multi][options] input {border: 1px solid #000;margin: 10px 0;}
`},select:{template:function(N){var P='';for(var Q of N)Q=x(Q),P+=`<option value="${Q.value}">${Q.label}</option>`;return P},init:function(N){var O=N.attr('img');if(O){var P=N.find('[selected]'),Q=$('<div select>'),R=$('<div options>');$.each(N[0].attributes,function(){Q.attr(this.name,this.value)}),N.wrap(Q),Q=N.parent(),Q.append('<div caret>&#9660</div>'),N.attr('data')||N.find('option').each(function(T){R.append(`<div value="${T.value}">${T.innerHTML}</div>`)}),Q.append(R),R=R.children();var S=P.length?P.index():0;R[S].classList.add('selected'),Q.val(N.val()||R[S].getAttribute('value')),B(Q,O),R.each(function(T,U){B($(U),O)}),R.click(function(){var U=$(this);U.siblings().removeClass('selected'),U.addClass('selected');var V=U.closest('[select]');V.val(U.attr('value'));var W=V.attr('img');W&&B(V,W)}),N.remove()}},style:`[select] select {display: none;}[select] {cursor: pointer;border-radius: 4px;}[select]:hover [options] {display: block;}[select] [options] {display: none;position: absolute;margin-top: 42px;margin-left: -4px;border: 4px solid #b9b9b9;border-radius: 4px;}[select] [options] div:hover {border: 4px solid #fff;}[select] [options] div.selected {border: 2px solid #0f97bd;}[select] [caret] {float: right;margin-top: 15px;margin-right: 5px;font-size: small;}[select][img] {padding: 0;}`}};class M{constructor(N,O,P){return(this.id=N,!L.string(N))?I('Pager id must be a string'):(this.logid=`Pager for template [${this.id}]:`,L.array(O)?L.number(P)?void(this.results=O,this.page_size=P,this.page=0,this.total=Math.ceil(this.results.length/this.page_size)):I('%s Page size must be a number',this.logid):I('%s Results must be an array',this.logid))}next(){return this.hasNext()?this.page++:H('%s No next page',this.logid),this.getPageResults(this.page)}prev(){return this.hasPrev()?this.page--:H('%s No previous page',this.logid),this.getPageResults(this.page)}hasNext(){return this.results.length>this.page*this.page_size}hasPrev(){return 1<this.page}setPageSize(N){return N=parseInt(N),L.number(N)?void(this.page_size=N,this.page=0,this.total=Math.ceil(this.results.length/this.page_size)):I('%s Must specify a number as the page size',this.logid)}getPageResults(N){if(!L.number(N))return I('%s Must specify a page number to get results from',this.logid),[];try{var O=(N-1)*this.page_size;return this.results.slice(O,O+this.page_size)}catch(P){return I('%s Could not get results of page %s, error:',this.logid,N,P),[]}}}return function(){Array.prototype.remove=function(N){var O=this.indexOf(N);0<=O&&this.splice(O,1)},String.prototype.capitalize=function(){return this.length&&this[0].toUpperCase()+this.slice(1).toLowerCase()}}(),{activePage:function(){return J.activePage},activeLang:function(){return J.activeLang},activeTheme:function(){return J.activeTheme},pages:this.pages,data:this.data,ajax:this.ajax,utils:this.utils,langs:this.langs,themes:this.themes,themeMaps:this.themeMaps,blocks:this.blocks,templates:this.templates,fx:this.fx,options:this.options,config:function(N){for(var O in J)'object'===$.type(J[O])&&'object'===$.type(N[O])&&Object.assign(J[O],N[O])},init:function(N){L.object(N)&&Object.keys(J.options).forEach(function(U){F(J.options[U],N[U])&&(J.options[U]=N[U])}),J.options.lang||(keys=Object.keys(J.langs),keys.length&&(J.options.lang=keys[0]));var O='<style blocks>';for(var P in J.blocks)O+=J.blocks[P].style;O+='</style>',$('body').append(O),$('body').append('<style theme>'),$('[page]').each(function(U,V){$(V).append('<div class="page-options">')}),$('[rasti]').each(function(U,V){q($(V))}),$('select[data]').each(function(U,V){m($(V))}),$('[tabs]').each(function(U,V){o($(V))}),$('[nav]').click(function(){var V=$(this),W=V.attr('nav'),X={};if(!W)return I('Please provide a page name in [nav] attribute of element:',el);if(this.hasAttribute('params')){var Y=J.activePage,Z=V.attr('params');Z?(Z=Z.split(' '),Z.forEach(function(_){X[_]=Y.find('[navparam='+_+']').val()})):Y.find('[navparam]').each(function(_,aa){return V=$(aa),P=V.attr('navparam'),P?void(X[P]=V.val()):I('Please provide a param name in [navparam] attribute of element:',aa)})}h(W,X)}),$('[submit]').click(function(){var aa,V=$(this),W=V.attr('submit'),X=V.attr('then'),Y=V.attr('render'),Z=X&&L.function(J.utils[X]),_=window.performance.now();return W?void(X&&!Z&&I('Utility method [%s] provided in [then] attribute is not defined',X),V.addClass('loading').attr('disabled',!0),w(W,function(ba){aa=window.performance.now();var ca=Math.floor(aa-_)/1e3;G('Ajax method [%s] took %s seconds',W,ca),Z&&J.utils[X](ba),Y&&j(Y,ba,ca),V.removeClass('loading').removeAttr('disabled')})):I('Plase provide an ajax method in [submit] attribute')}),$('[render]').not('[submit]').click(function(){var V=$(this),W=V.attr('render');return W?void j(W):I('Please provide a template name in [render] attribute of element:',el)});for(var Q of'click change'.split(' '))$('['+Q+']').each(function(U,V){var W=$(V),X=W.attr(Q);return app.utils[X]?void $(this).on(Q,app.utils[X]):I('Undefined utility method "%s" declared in [%s] attribute of element:',X,Q,V)});var R,S;for(var T in J.pages){if(R=J.pages[T],!L.object(R))return I('Page [%s] must be an object!',T);if(S=$('[page='+T+']'),!S.length)return I('No container element bound to page [%s]. Please bind one via [page] attribute',T);if(R.init){if(!L.function(R.init))return I('Page [%s] init property must be a function!',T);G('Initializing page [%s]',T),J.activePage=S,R.init()}}J.options.lang&&!J.activeLang&&l(J.options.lang),J.options.lang||$('[text]').each(function(U,V){$(V).text($(V).attr('text'))}),'input select textarea'.split(' ').forEach(function(U){$(U+'[label]').each(function(V,W){A($(W))})}),J.activeTheme||k(J.options.theme),window.onpopstate=function(U){var V=U.state||location.hash.substring(1);V?U.state?h(V,null,!0):h(V):h(J.options.root)};var R=location.hash.substring(1)||J.options.root;h(R&&J.pages[R]?R:$('[page]').first().attr('page')),$(document).trigger('rasti-ready')},get:function(N){if(!J.activePage||!J.activePage.length)return I('Cannot get(%s), active page is not defined',N);var O=J.activePage.find('['+N+']');return O.length||I('Cannot get(%s), element not found in page [%s]',N,J.activePage.attr('page')),O},set:function(N,O){if(!J.activePage||!J.activePage.length)return I('Cannot set(%s), active page is not defined',N);var P=J.activePage.find('['+N+']');P.length||I('Cannot set(%s), element not found in page [%s]',N,J.activePage.attr('page')),P.each(function(Q,R){R.value=O,$(R).change()})},add:function(N,...O){if(!J.activePage||!J.activePage.length)return I('Cannot add(%s), active page is not defined',N);var P=J.activePage.find('['+N+']');P.length||I('Cannot add(%s), element not found in page [%s]',N,J.activePage.attr('page')),P.each(function(Q,R){O.forEach(function(S){L.array(S)?R.value=R.value.concat(S):R.value.push(S)}),$(R).change()})},navTo:h,render:j,setLang:l,setTheme:k,updateBlock:m,toggleFullScreen:function(){var O='moz webkit'.split(' ');O.forEach(function(P){P+'FullscreenElement'in document&&(document[P+'FullscreenElement']?document[P+'CancelFullScreen']&&document[P+'CancelFullScreen']():document.documentElement[P+'RequestFullScreen']())})}}};